{"version":3,"sources":["components/page-commands.tsx","components/styled.tsx","lib/models-inventory.tsx","pages/management/inventory/landing-page/index.tsx","components/data-select/warehouse-select.tsx","components/amount-field.tsx","assets/confirmed.png","components/data-select/stocks-select.tsx","pages/management/inventory/delivery/list.tsx","pages/management/inventory/delivery/form.tsx","pages/management/inventory/delivery/create.tsx","pages/management/inventory/delivery/edit.tsx","pages/management/inventory/delivery/items-view.tsx","pages/management/inventory/delivery/view.tsx","pages/management/inventory/delivery/items.tsx","pages/management/inventory/delivery/index.tsx"],"names":["PageCommands","props","className","children","StyledBadge","withStyles","theme","createStyles","badge","right","top","border","palette","background","paper","padding","backgroundColor","color","Badge","ConfirmedBadge","StyledViewPage","classes","makeStyles","root","flexGrow","spacing","text","secondary","minHeight","position","useViewPageStyles","StyledViewField","height","maxWidth","fontSize","borderBottom","InlineList","align","wrap","textAlign","whiteSpace","margin","paddingInlineStart","listStyle","display","verticalAlign","useStyles","InlineListItem","width","useClickableStyle","cursor","Unit","id","unit","Category","category","Warehouse","warehouse","accountNo","account","Stock","stockName","description","unitId","categoryId","InventoryDoc","docDate","Date","warehouseId","remarks","isConfirmed","dateConfirmed","conrirmedByProfileId","confirmedBy","itemCount","Delivery","poNo","drNo","amount","supplier","PriceList","AccountOrder","orNo","WarehouseOrder","toWarehouseId","toWarehouse","LandingMenu","go","useNavigation","onClick","Landing","WarehouseSelect","value","onChange","refresh","inputLabel","req","useRequest","useState","data","setData","val","setValue","inputValue","setInputValue","getList","a","get","process","res","success","useEffect","event","newValue","undefined","onInputChange","options","getOptionLabel","option","renderInput","params","label","required","defaultProps","AmountField","FDouble","Number","v","setV","tfProps","e","isNaN","target","n","parseFloat","zeroIsAllowed","onBlur","s","replace","finalValue","onFinalChange","appBar","title","marginLeft","flex","Transition","forwardRef","ref","direction","StocksSelect","selectedIds","selectionModel","setSelectionModel","rows","filter","x","find","y","columns","field","headerName","valueGetter","getValue","hideFooterPagination","autoHeight","checkboxSelection","onSelectionModelChange","newSelection","selectedStocks","StocksSelectDialog","open","setOpen","onSelectionConfirmed","nc","useContext","NotificationContext","selection","setSelection","handleClose","handleApply","length","msgbox","show","onClose","fullScreen","TransitionComponent","edge","variant","deleteRecord","g","callback","confirmbox","post","snackbar","dummyButton","IconButton","size","disabled","style","visibility","List","ps","PageStateContext","useGlobal","openData","mode","Get","dispatch","valueFormatter","FDate","headerAlign","renderCell","tt","name","Box","Tooltip","badgeContent","filterable","sortable","disableColumnMenu","cellClassName","confirmed","row","parent","openItems","FDateTime","Button","Form","onSubmit","formRef","useRef","setDocDate","setDescription","setPONo","setDRNo","setSupplier","setAmount","setRemarks","execSubmit","setExecSubmit","Add","key","handleSubmit","preventDefault","current","reportValidity","errors","newData","autoComplete","FormControl","FormLabel","TextField","type","FDateCustom","inputProps","multiline","Create","processing","backToView","hide","Edit","ItemsView","parentId","opaity","View","backToList","confirm","Profile","src","ConfirmedImage","Grid","container","item","sm","fontWeight","FCurrency","Divider","d","Items","dataBak","setDataBak","JSON","parse","stringify","validate","forEach","stock","push","stockId","qty","saveList","openStockSelection","setOpenStockSelection","fieldName","disableSelectionOnClick","map","maxId","lst","sort","reverse","newItems","i","price","_data","RenderCell","ds","parseInt","Deliveries","pageMode","setPageMode","openProps","setOpenProps","warehouseCookie","sessionStorage","getItem","setWarehouse","setItem","removeItem"],"mappings":"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","file":"static/js/17.07e21b34.chunk.js","sourcesContent":["import { FC } from \"react\";\r\n\r\nconst PageCommands: FC = (props) => {\r\n\treturn <div className=\"page-commands\">{props.children}</div>;\r\n};\r\n\r\nexport default PageCommands;\r\n","import {\r\n\tBadge,\r\n\tcreateStyles,\r\n\tmakeStyles,\r\n\tPaper,\r\n\tTheme,\r\n\twithStyles,\r\n} from \"@material-ui/core\";\r\nimport { Label } from \"@material-ui/icons\";\r\nimport { FC } from \"react\";\r\nimport { classicNameResolver } from \"typescript\";\r\n\r\nexport const StyledBadge = withStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\tbadge: {\r\n\t\t\tright: -3,\r\n\t\t\ttop: 13,\r\n\t\t\tborder: `2px solid ${theme.palette.background.paper}`,\r\n\t\t\tpadding: \"0 4px\",\r\n\t\t\tbackgroundColor: \"gray\",\r\n\t\t\tcolor: \"white\",\r\n\t\t},\r\n\t})\r\n)(Badge);\r\n\r\nexport const ConfirmedBadge = withStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\tbadge: {\r\n\t\t\tright: -3,\r\n\t\t\ttop: 13,\r\n\t\t\tborder: `2px solid ${theme.palette.background.paper}`,\r\n\t\t\tpadding: \"0 4px\",\r\n\t\t\tbackgroundColor: \"green\",\r\n\t\t\tcolor: \"white\",\r\n\t\t},\r\n\t})\r\n)(Badge);\r\n\r\nexport const StyledViewPage: FC = (props) => {\r\n\tconst useViewPageStyles = makeStyles((theme: Theme) =>\r\n\t\tcreateStyles({\r\n\t\t\troot: {\r\n\t\t\t\tflexGrow: 1,\r\n\t\t\t},\r\n\t\t\tpaper: {\r\n\t\t\t\tpadding: theme.spacing(2),\r\n\t\t\t\tcolor: theme.palette.text.secondary,\r\n\t\t\t\tminHeight: 400,\r\n\t\t\t\tposition: \"relative\",\r\n\t\t\t},\r\n\t\t})\r\n\t);\r\n\tconst classes = useViewPageStyles();\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Paper className={classes.paper}>{props.children}</Paper>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\ninterface IStyledViewFieldProps {\r\n\theight?: number;\r\n\tmaxWidth?: number;\r\n}\r\n\r\nexport const StyledViewField: FC<IStyledViewFieldProps> = ({\r\n\theight,\r\n\tmaxWidth,\r\n\tchildren,\r\n}) => {\r\n\tconst useViewPageStyles = makeStyles((theme: Theme) =>\r\n\t\tcreateStyles({\r\n\t\t\troot: {\r\n\t\t\t\tfontSize: 16,\r\n\t\t\t\tpadding: \"0 2px\",\r\n\t\t\t\tborderBottom: \"2px dotted #e0e0e0\",\r\n\t\t\t\theight: height ?? \"initial\",\r\n\t\t\t\tmaxWidth: maxWidth ?? 300,\r\n\t\t\t\tminHeight: 20,\r\n\t\t\t},\r\n\t\t})\r\n\t);\r\n\tconst classes = useViewPageStyles();\r\n\r\n\treturn <div className={classes.root}>{children}</div>;\r\n};\r\n\r\ninterface IInlineListProps {\r\n\talign?: \"left\" | \"center\" | \"right\";\r\n\twrap?: boolean;\r\n\tclassName?: string;\r\n}\r\n\r\nexport const InlineList: FC<IInlineListProps> = ({\r\n\talign,\r\n\twrap,\r\n\tclassName,\r\n\tchildren,\r\n}) => {\r\n\tconst useStyles = makeStyles((theme: Theme) =>\r\n\t\tcreateStyles({\r\n\t\t\troot: {\r\n\t\t\t\ttextAlign: align,\r\n\t\t\t\twhiteSpace: wrap ? \"initial\" : \"nowrap\",\r\n\t\t\t\t\"& > ul\": {\r\n\t\t\t\t\tmargin: 0,\r\n\t\t\t\t\tpaddingInlineStart: 0,\r\n\t\t\t\t},\r\n\t\t\t\t\"& ul ul\": {\r\n\t\t\t\t\tpadding: \"20px\",\r\n\t\t\t\t},\r\n\t\t\t\t\"& li\": {\r\n\t\t\t\t\tlistStyle: \"none\",\r\n\t\t\t\t\tdisplay: \"inline-block\",\r\n\t\t\t\t\tverticalAlign: \"top\",\r\n\t\t\t\t\tmargin:\r\n\t\t\t\t\t\talign == \"left\"\r\n\t\t\t\t\t\t\t? \"0 10px 0 0\"\r\n\t\t\t\t\t\t\t: align == \"center\"\r\n\t\t\t\t\t\t\t? \"0 5px 0 5px\"\r\n\t\t\t\t\t\t\t: \"0 0 0 10px\",\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t})\r\n\t);\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<div className={`${classes.root} ${className ?? \"\"}`}>\r\n\t\t\t<ul>{children}</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\ninterface IInlineListItemProps {\r\n\talign?: \"left\" | \"center\" | \"right\";\r\n\twidth?: number;\r\n}\r\nexport const InlineListItem: FC<IInlineListItemProps> = ({\r\n\talign,\r\n\twidth,\r\n\tchildren,\r\n}) => {\r\n\tconst useStyles = makeStyles((theme: Theme) =>\r\n\t\tcreateStyles({\r\n\t\t\troot: {\r\n\t\t\t\ttextAlign: align ?? \"left\",\r\n\t\t\t\twidth: width ? `${width}px` : \"initial\",\r\n\t\t\t},\r\n\t\t})\r\n\t);\r\n\tconst classes = useStyles();\r\n\r\n\treturn <li className={classes.root}>{children}</li>;\r\n};\r\n\r\nexport const useClickableStyle = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\troot: {\r\n\t\t\t\"&, & *\": {\r\n\t\t\t\tcursor: \"pointer !important\",\r\n\t\t\t\tcolor: \"black !important\",\r\n\t\t\t},\r\n\t\t\t\"&:hover *\": {\r\n\t\t\t\tcolor: \"blue !important\",\r\n\t\t\t},\r\n\t\t},\r\n\t})\r\n);\r\n","import { GPCAccount, QuickProfile } from \"./models\";\r\n\r\nexport class Unit {\r\n\tid: number = 0;\r\n\tunit: string = \"\";\r\n}\r\n\r\nexport class Category {\r\n\tid: number = 0;\r\n\tcategory: string = \"\";\r\n}\r\n\r\nexport class Warehouse {\r\n\tid: number = 0;\r\n\twarehouse: string = \"\";\r\n\taccountNo: string = \"\";\r\n\taccount?: GPCAccount;\r\n}\r\n\r\nexport class Stock {\r\n\tid: number = 0;\r\n\tstockName: string = \"\";\r\n\tdescription: string = \"\";\r\n\tunitId: number = 0;\r\n\tcategoryId: number = 0;\r\n\tunit?: Unit;\r\n\tcategory?: Category;\r\n}\r\n\r\nexport class InventoryDoc {\r\n\tid: number = 0;\r\n\tdocDate: Date = new Date();\r\n\tdescription: string = \"\";\r\n\twarehouseId: number = 0;\r\n\tremarks: string = \"\";\r\n\tisConfirmed: boolean = false;\r\n\tdateConfirmed?: Date;\r\n\tconrirmedByProfileId?: number;\r\n\tconfirmedBy?: QuickProfile;\r\n\twarehouse?: Warehouse;\r\n\titemCount: number = 0;\r\n}\r\n\r\nexport class InventoryDocItem {\r\n\tid: number = 0;\r\n\tparentId: number = 0;\r\n}\r\n\r\nexport class Delivery extends InventoryDoc {\r\n\tpoNo: string = \"\";\r\n\tdrNo: string = \"\";\r\n\tamount: number = 0;\r\n\tsupplier: string = \"\";\r\n}\r\n\r\nexport class DeliveryItem extends InventoryDocItem {\r\n\tstockId: number = 0;\r\n\tqty: number = 0;\r\n\tprice?: number = 0;\r\n\tstock?: Stock;\r\n}\r\n\r\nexport class PriceList extends InventoryDoc {}\r\n\r\nexport class PriceListItem extends InventoryDocItem {\r\n\tstockId: number = 0;\r\n\tprice: number = 0;\r\n\tpointValue: number = 0;\r\n\tstock?: Stock;\r\n}\r\n\r\nexport class AccountOrder extends InventoryDoc {\r\n\torNo: string = \"\";\r\n\taccountNo: string = \"\";\r\n\taccount?: GPCAccount;\r\n\tamount: number = 0;\r\n}\r\n\r\nexport class AccountOrderItem extends InventoryDocItem {\r\n\tstockId: number = 0;\r\n\tqty: number = 0;\r\n\tprice: number = 0;\r\n\tpointValue: number = 0;\r\n\tstock?: Stock;\r\n\tamount: number = 0;\r\n\ttotalPointValue: number = 0;\r\n\tdiscountRate: number = 0;\r\n\tdiscount: number = 0;\r\n}\r\n\r\nexport class WarehouseOrder extends InventoryDoc {\r\n\torNo: string = \"\";\r\n\ttoWarehouseId: number = 0;\r\n\ttoWarehouse?: Warehouse;\r\n\tamount: number = 0;\r\n}\r\n\r\nexport class WarehouseOrderItem extends InventoryDocItem {\r\n\tstockId: number = 0;\r\n\tqty: number = 0;\r\n\tprice: number = 0;\r\n\tpointValue: number = 0;\r\n\tstock?: Stock;\r\n\tamount: number = 0;\r\n\ttotalPointValue: number = 0;\r\n\tdiscountRate: number = 0;\r\n\tdiscount: number = 0;\r\n}\r\n\r\nexport class Inventory {\r\n\tid: number = 0;\r\n\tqty: number = 0;\r\n\tprice: number = 0;\r\n\tpointValue: number = 0;\r\n\tstock?: Stock;\r\n}\r\n","import { Button } from \"@material-ui/core\";\r\nimport { FC } from \"react\";\r\nimport \"../../../../style.scss\";\r\nimport { useNavigation } from \"../../../../lib/hooks\";\r\n\r\nconst LandingMenu: FC = () => {\r\n\tconst { go } = useNavigation();\r\n\r\n\treturn (\r\n\t\t<div className=\"landing-page-menu\">\r\n\t\t\t<Button onClick={() => go(\"delivery\")}>Delivery</Button>\r\n\t\t\t<Button onClick={() => go(\"pricelist\")}>Price List</Button>\r\n\t\t\t<Button onClick={() => go(\"account-order\")}>Account Order</Button>\r\n\t\t\t<Button onClick={() => go(\"warehouse-order\")}>Warehouse Order</Button>\r\n\t\t\t&nbsp;|&nbsp;\r\n\t\t\t<Button onClick={() => go(\"inventory-report\")}>Inventory</Button>\r\n\t\t\t&nbsp;|&nbsp;\r\n\t\t\t<Button onClick={() => go(\"units\")}>Units</Button>\r\n\t\t\t<Button onClick={() => go(\"categories\")}>Categories</Button>\r\n\t\t\t<Button onClick={() => go(\"warehouse\")}>Warehouse</Button>\r\n\t\t\t<Button onClick={() => go(\"stocks\")}>Stocks</Button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst Landing: FC = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h3>Inventory</h3>\r\n\r\n\t\t\t<p>Please select your task</p>\r\n\t\t\t<LandingMenu />\r\n\t\t\t<hr />\r\n\t\t\t<br />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Landing;\r\n","import { Autocomplete } from \"@material-ui/lab\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { FC, useEffect, useState } from \"react\";\r\nimport { useGlobal, useRequest } from \"../../lib/hooks\";\r\nimport Loading from \"../loading\";\r\nimport { Warehouse } from \"../../lib/models-inventory\";\r\n\r\ninterface IProps {\r\n\tvalue?: Warehouse;\r\n\tonChange?: (value: Warehouse | undefined) => void;\r\n\trefresh?: Date;\r\n\tinputLabel?: string;\r\n}\r\n\r\nexport const WarehouseSelect: FC<IProps> = ({\r\n\tvalue,\r\n\tonChange,\r\n\trefresh,\r\n\tinputLabel,\r\n}) => {\r\n\tconst req = useRequest();\r\n\r\n\tconst [data, setData] = useState<Warehouse[] | null>(null);\r\n\tconst [val, setValue] = useState<Warehouse | null>(null);\r\n\tconst [inputValue, setInputValue] = useState(\"\");\r\n\r\n\tconst getList = async () => {\r\n\t\tconst res = await req.get(\r\n\t\t\t`${process.env.REACT_APP_API}/inventory/warehouse/list`\r\n\t\t);\r\n\t\tif (res.success) {\r\n\t\t\tsetData(res.data);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetList();\r\n\t\tsetValue(value ?? null);\r\n\t\tsetInputValue(value?.warehouse ?? \"\");\r\n\t}, [refresh, value]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{data ? (\r\n\t\t\t\t<Autocomplete\r\n\t\t\t\t\tvalue={val}\r\n\t\t\t\t\tonChange={(event, newValue) => {\r\n\t\t\t\t\t\tsetValue(newValue);\r\n\t\t\t\t\t\tonChange && onChange(newValue ?? undefined);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tinputValue={inputValue}\r\n\t\t\t\t\tonInputChange={(event, newValue) => setInputValue(newValue ?? \"\")}\r\n\t\t\t\t\toptions={data}\r\n\t\t\t\t\tgetOptionLabel={(option) => option.warehouse}\r\n\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t<TextField {...params} label={inputLabel} required />\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<Loading />\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nWarehouseSelect.defaultProps = {\r\n\tinputLabel: \"Select Warehouse\",\r\n};\r\n","import { TextField, TextFieldProps } from \"@material-ui/core\";\r\nimport { FC, useState } from \"react\";\r\nimport { FDouble } from \"../lib/common\";\r\n\r\ninterface IAmountProps {\r\n\tvalue: number | null;\r\n\tonFinalChange: (value: number) => void;\r\n\ttfProps: TextFieldProps;\r\n\tzeroIsAllowed: boolean;\r\n}\r\n\r\nexport const AmountField: FC<IAmountProps> = (props) => {\r\n\tconst [v, setV] = useState(FDouble(Number(props.value ?? \"0\")));\r\n\r\n\treturn (\r\n\t\t<TextField\r\n\t\t\t{...props.tfProps}\r\n\t\t\tvalue={v}\r\n\t\t\tonChange={(e) => {\r\n\t\t\t\tif (!isNaN(Number(e.target.value))) {\r\n\t\t\t\t\tconst n = parseFloat(e.target.value);\r\n\r\n\t\t\t\t\tconst valid = props.zeroIsAllowed ? n >= 0 : n > 0;\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\tsetV(e.target.value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t\tonBlur={(e) => {\r\n\t\t\t\tlet s = e.target.value.replace(\",\", \"\");\r\n\t\t\t\tconst finalValue = parseFloat(s);\r\n\t\t\t\tsetV(FDouble(finalValue));\r\n\t\t\t\tprops.onFinalChange(finalValue);\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/confirmed.9ef1307f.png\";","import { FC, forwardRef, useContext, useEffect, useState } from \"react\";\r\nimport { useGlobal, useRequest } from \"../../lib/hooks\";\r\nimport Loading from \"../loading\";\r\nimport { Category, Stock, Unit } from \"../../lib/models-inventory\";\r\nimport {\r\n\tDataGrid,\r\n\tGridColDef,\r\n\tGridPageChangeParams,\r\n\tGridRowId,\r\n\tGridValueGetterParams,\r\n} from \"@material-ui/data-grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport { NotificationContext } from \"../../lib/notifications\";\r\nimport Slide from \"@material-ui/core/Slide\";\r\nimport { TransitionProps } from \"@material-ui/core/transitions\";\r\nimport {\r\n\tAppBar,\r\n\tcreateStyles,\r\n\tIconButton,\r\n\tmakeStyles,\r\n\tTheme,\r\n\tToolbar,\r\n\tTypography,\r\n} from \"@material-ui/core\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\tappBar: {\r\n\t\t\tposition: \"relative\",\r\n\t\t},\r\n\t\ttitle: {\r\n\t\t\tmarginLeft: theme.spacing(2),\r\n\t\t\tflex: 1,\r\n\t\t},\r\n\t})\r\n);\r\n\r\nconst Transition = forwardRef(function Transition(\r\n\tprops: TransitionProps & { children?: React.ReactElement },\r\n\tref: React.Ref<unknown>\r\n) {\r\n\treturn <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\ninterface IProps {\r\n\tselectedIds: number[];\r\n\tonChange: (value: Stock[]) => void;\r\n}\r\n\r\nexport const StocksSelect: FC<IProps> = ({ selectedIds, onChange }) => {\r\n\tconst req = useRequest();\r\n\r\n\tconst [data, setData] = useState<Stock[] | null>(null);\r\n\r\n\tconst getList = async () => {\r\n\t\tconst res = await req.get(\r\n\t\t\t`${process.env.REACT_APP_API}/inventory/stock/list`\r\n\t\t);\r\n\t\tif (res.success) {\r\n\t\t\tsetData(res.data);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetList();\r\n\t}, []);\r\n\r\n\tconst columns: GridColDef[] = [\r\n\t\t{ field: \"id\", headerName: \"Id\", width: 90 },\r\n\t\t{\r\n\t\t\tfield: \"stockName\",\r\n\t\t\theaderName: \"Stock Name\",\r\n\t\t\twidth: 300,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"description\",\r\n\t\t\theaderName: \"Description\",\r\n\t\t\twidth: 350,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"unitId\",\r\n\t\t\theaderName: \"Unit\",\r\n\t\t\twidth: 150,\r\n\t\t\tvalueGetter: (params: GridValueGetterParams) =>\r\n\t\t\t\t(params.getValue(params.id, \"unit\") as Unit)?.unit,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"categoryId\",\r\n\t\t\theaderName: \"Category\",\r\n\t\t\twidth: 150,\r\n\t\t\tvalueGetter: (params: GridValueGetterParams) =>\r\n\t\t\t\t(params.getValue(params.id, \"category\") as Category)?.category,\r\n\t\t},\r\n\t];\r\n\r\n\tconst [selectionModel, setSelectionModel] = useState<GridRowId[]>([]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{data ? (\r\n\t\t\t\t<DataGrid\r\n\t\t\t\t\trows={data.filter((x) => !selectedIds.find((y) => y == x.id))}\r\n\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\thideFooterPagination={true}\r\n\t\t\t\t\tautoHeight\r\n\t\t\t\t\tcheckboxSelection\r\n\t\t\t\t\tselectionModel={selectionModel}\r\n\t\t\t\t\tonSelectionModelChange={(newSelection) => {\r\n\t\t\t\t\t\tsetSelectionModel(newSelection.selectionModel);\r\n\r\n\t\t\t\t\t\tconst selectedStocks = data.filter((x) =>\r\n\t\t\t\t\t\t\tnewSelection.selectionModel.find((y) => y == x.id)\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tonChange(selectedStocks);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t<Loading />\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\ninterface IStocksSelectDialogProps {\r\n\tselectedIds: number[];\r\n\topen: boolean;\r\n\tsetOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n\tonSelectionConfirmed: (value: Stock[]) => void;\r\n}\r\n\r\nexport const StocksSelectDialog: FC<IStocksSelectDialogProps> = ({\r\n\tselectedIds,\r\n\topen,\r\n\tsetOpen,\r\n\tonSelectionConfirmed,\r\n}) => {\r\n\tconst classes = useStyles();\r\n\tconst nc = useContext(NotificationContext);\r\n\r\n\tconst [selection, setSelection] = useState<Stock[]>([]);\r\n\r\n\tconst handleClose = () => setOpen(false);\r\n\tconst handleApply = async () => {\r\n\t\tif (selection.length == 0) {\r\n\t\t\tawait nc.msgbox.show(\"No item selected\", \"Select Stocks\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tonSelectionConfirmed(selection);\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tfullScreen\r\n\t\t\t\tTransitionComponent={Transition}\r\n\t\t\t>\r\n\t\t\t\t<AppBar className={classes.appBar}>\r\n\t\t\t\t\t<Toolbar>\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tedge=\"start\"\r\n\t\t\t\t\t\t\tcolor=\"inherit\"\r\n\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\taria-label=\"close\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t<Typography variant=\"h6\" className={classes.title}>\r\n\t\t\t\t\t\t\tSelect Stocks\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Button onClick={handleClose} color=\"inherit\">\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button onClick={handleApply} color=\"inherit\">\r\n\t\t\t\t\t\t\tApply\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Toolbar>\r\n\t\t\t\t</AppBar>\r\n\t\t\t\t<StocksSelect\r\n\t\t\t\t\tselectedIds={selectedIds}\r\n\t\t\t\t\tonChange={(value) => setSelection(value)}\r\n\t\t\t\t/>\r\n\t\t\t</Dialog>\r\n\t\t</>\r\n\t);\r\n};\r\n","import { FC, useContext, useEffect, useState } from \"react\";\r\nimport { RequestType, useGlobal, useRequest } from \"../../../../lib/hooks\";\r\nimport { Box, Button } from \"@material-ui/core\";\r\nimport { Delivery } from \"../../../../lib/models-inventory\";\r\nimport { FDate, FDateTime, FDouble } from \"../../../../lib/common\";\r\nimport {\r\n\tDataGrid,\r\n\tGridCellParams,\r\n\tGridColDef,\r\n\tGridPageChangeParams,\r\n\tGridValueFormatterParams,\r\n} from \"@material-ui/data-grid\";\r\n\r\nimport Loading from \"../../../../components/loading\";\r\nimport PageStateContext, {\r\n\tPageModeType,\r\n} from \"../../../../lib/pageStateContext\";\r\nimport PageCommands from \"../../../../components/page-commands\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport PageviewIcon from \"@material-ui/icons/Pageview\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport CheckIcon from \"@material-ui/icons/Check\";\r\nimport DraftsIcon from \"@material-ui/icons/Drafts\";\r\nimport {\r\n\tNotification,\r\n\tNotificationContext,\r\n} from \"../../../../lib/notifications\";\r\nimport { QuickProfile } from \"../../../../lib/models\";\r\nimport { Global } from \"../../../../lib/global\";\r\nimport { ConfirmedBadge, StyledBadge } from \"../../../../components/styled\";\r\n\r\ninterface IProps {\r\n\trefresh: Date;\r\n\twarehouseId: number;\r\n}\r\n\r\nexport const deleteRecord = async (\r\n\tid: number,\r\n\tg: Global,\r\n\treq: RequestType,\r\n\tnc: Notification,\r\n\tcallback: () => void\r\n) => {\r\n\tconst confirmed = await nc.confirmbox.show(\r\n\t\t\"Are you sure you want to delete this record?\"\r\n\t);\r\n\tif (confirmed) {\r\n\t\tconst res = await req.post(\r\n\t\t\t`${process.env.REACT_APP_API}/inventory/delivery/delete?id=${id}`\r\n\t\t);\r\n\t\tif (res.success) {\r\n\t\t\tnc.snackbar.show(\"Record was successfully deleted\");\r\n\t\t\tcallback();\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst dummyButton = (\r\n\t<IconButton size=\"small\" disabled>\r\n\t\t<PageviewIcon style={{ visibility: \"hidden\" }} />\r\n\t</IconButton>\r\n);\r\n\r\nconst List: FC<IProps> = ({ refresh, warehouseId }) => {\r\n\tconst ps = useContext(PageStateContext);\r\n\r\n\tconst g = useGlobal();\r\n\tconst req = useRequest();\r\n\tconst nc = useContext(NotificationContext);\r\n\r\n\tconst [data, setData] = useState<Delivery[] | null>(null);\r\n\r\n\tconst getList = async () => {\r\n\t\tconst res = await req.get(\r\n\t\t\t`${process.env.REACT_APP_API}/inventory/delivery/list?warehouseId=${warehouseId}`\r\n\t\t);\r\n\t\tif (res.success) {\r\n\t\t\tsetData(res.data);\r\n\t\t}\r\n\t};\r\n\r\n\tconst create = () => {\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setPageMode\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<PageModeType>\r\n\t\t\t>\r\n\t\t)(\"create\");\r\n\t};\r\n\r\n\tconst open = (openData: Delivery, mode: PageModeType) => {\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setOpenProps\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<object>\r\n\t\t\t>\r\n\t\t)({ data: openData });\r\n\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setPageMode\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<PageModeType>\r\n\t\t\t>\r\n\t\t)(mode);\r\n\t};\r\n\r\n\tconst openItems = (openData: Delivery, mode: PageModeType) => {\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setOpenProps\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<object>\r\n\t\t\t>\r\n\t\t)({ refresh: new Date(), parent: openData });\r\n\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setPageMode\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<PageModeType>\r\n\t\t\t>\r\n\t\t)(mode);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetList();\r\n\t}, [refresh]);\r\n\r\n\tconst columns: GridColDef[] = [\r\n\t\t{ field: \"id\", headerName: \"Id\", width: 90 },\r\n\t\t{\r\n\t\t\tfield: \"docDate\",\r\n\t\t\theaderName: \"Date\",\r\n\t\t\twidth: 110,\r\n\t\t\tvalueFormatter: (params: GridValueFormatterParams) =>\r\n\t\t\t\tFDate(new Date(params.value as Date)),\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"description\",\r\n\t\t\theaderName: \"Description\",\r\n\t\t\twidth: 300,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"poNo\",\r\n\t\t\theaderName: \"PO No.\",\r\n\t\t\twidth: 130,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"drNo\",\r\n\t\t\theaderName: \"DR No.\",\r\n\t\t\twidth: 130,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"supplier\",\r\n\t\t\theaderName: \"Supplier\",\r\n\t\t\twidth: 200,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"amount\",\r\n\t\t\theaderName: \"Amount (â‚±)\",\r\n\t\t\twidth: 150,\r\n\t\t\theaderAlign: \"right\",\r\n\t\t\talign: \"right\",\r\n\t\t\tvalueFormatter: (params: GridValueFormatterParams) =>\r\n\t\t\t\tFDouble(Number(params.value)),\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"confirmed\",\r\n\t\t\theaderName: \"Status\",\r\n\t\t\twidth: 150,\r\n\t\t\theaderAlign: \"center\",\r\n\t\t\talign: \"center\",\r\n\t\t\trenderCell: (params: GridCellParams) => {\r\n\t\t\t\tlet tt = \"Unconfirmed\";\r\n\r\n\t\t\t\tconst isConfirmed = params.getValue(\r\n\t\t\t\t\tparams.id,\r\n\t\t\t\t\t\"isConfirmed\"\r\n\t\t\t\t) as boolean;\r\n\t\t\t\tif (isConfirmed) {\r\n\t\t\t\t\tconst confirmedBy = params.getValue(\r\n\t\t\t\t\t\tparams.id,\r\n\t\t\t\t\t\t\"confirmedBy\"\r\n\t\t\t\t\t) as QuickProfile;\r\n\r\n\t\t\t\t\ttt = `Confirmed by ${confirmedBy.name}`;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{isConfirmed ? (\r\n\t\t\t\t\t\t\t<Box color=\"green\">\r\n\t\t\t\t\t\t\t\t<Tooltip title={tt}>\r\n\t\t\t\t\t\t\t\t\t<ConfirmedBadge\r\n\t\t\t\t\t\t\t\t\t\tbadgeContent={params.getValue(params.id, \"itemCount\")}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<CheckIcon />\r\n\t\t\t\t\t\t\t\t\t</ConfirmedBadge>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Box color=\"lightgray\">\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Draft\">\r\n\t\t\t\t\t\t\t\t\t<DraftsIcon />\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"\",\r\n\t\t\tfilterable: false,\r\n\t\t\tsortable: false,\r\n\t\t\tdisableColumnMenu: true,\r\n\t\t\tflex: 0.3,\r\n\t\t\tcellClassName: \"row-commands\",\r\n\t\t\trenderCell: (params: GridCellParams) => {\r\n\t\t\t\tconst confirmed = (params.row as Delivery).isConfirmed;\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{confirmed ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{dummyButton}\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"View\">\r\n\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => open(params.row as Delivery, \"view\")}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<PageviewIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t{dummyButton}\r\n\t\t\t\t\t\t\t\t{dummyButton}\r\n\t\t\t\t\t\t\t\t{dummyButton}\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Update Items\">\r\n\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\topenItems(params.row as Delivery, \"view-items\")\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<StyledBadge\r\n\t\t\t\t\t\t\t\t\t\t\tbadgeContent={params.getValue(params.id, \"itemCount\")}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<MoreHorizIcon />\r\n\t\t\t\t\t\t\t\t\t\t</StyledBadge>\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"View\">\r\n\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => open(params.row as Delivery, \"view\")}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<PageviewIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Edit\">\r\n\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => open(params.row as Delivery, \"edit\")}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t\t<Tooltip title=\"Delete\">\r\n\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\tdeleteRecord(params.id as number, g, req, nc, getList)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{data ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<h4>Delivery List</h4>\r\n\t\t\t\t\t<small>As of {FDateTime(refresh)}</small>\r\n\t\t\t\t\t<DataGrid\r\n\t\t\t\t\t\trows={data}\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\thideFooterPagination={true}\r\n\t\t\t\t\t\tautoHeight\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PageCommands>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={create}>\r\n\t\t\t\t\t\t\tCreate\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</PageCommands>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<Loading />\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default List;\r\n","import { FC, useContext, useEffect, useRef, useState } from \"react\";\r\nimport { Delivery } from \"../../../../lib/models-inventory\";\r\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport PageStateContext from \"../../../../lib/pageStateContext\";\r\nimport { FormControl, FormLabel } from \"@material-ui/core\";\r\nimport { NotificationContext } from \"../../../../lib/notifications\";\r\nimport { FDateCustom } from \"../../../../lib/common\";\r\nimport { AmountField } from \"../../../../components/amount-field\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\troot: {\r\n\t\t\t\"& > *\": {\r\n\t\t\t\tmargin: theme.spacing(1),\r\n\t\t\t\twidth: \"25ch\",\r\n\t\t\t},\r\n\t\t},\r\n\t})\r\n);\r\n\r\ninterface IProps {\r\n\tonSubmit: (data: Delivery) => void;\r\n\tdata: Delivery;\r\n}\r\n\r\nconst Form: FC<IProps> = ({ data, onSubmit }) => {\r\n\tconst nc = useContext(NotificationContext);\r\n\r\n\tconst classes = useStyles();\r\n\tconst formRef = useRef<HTMLFormElement>(null);\r\n\r\n\tconst [docDate, setDocDate] = useState(data.docDate);\r\n\tconst [description, setDescription] = useState(data.description);\r\n\tconst [poNo, setPONo] = useState(data.poNo);\r\n\tconst [drNo, setDRNo] = useState(data.drNo);\r\n\tconst [supplier, setSupplier] = useState(data.supplier);\r\n\tconst [amount, setAmount] = useState(data.amount);\r\n\tconst [remarks, setRemarks] = useState(data.remarks);\r\n\r\n\tconst [execSubmit, setExecSubmit] = useState<Date | null>(null);\r\n\r\n\tconst ps = useContext(PageStateContext);\r\n\tps.Add({\r\n\t\tkey: \"create-delivery-form-setExecSubmit\",\r\n\t\tdispatch: setExecSubmit,\r\n\t});\r\n\r\n\tconst getData = () => {\r\n\t\treturn {\r\n\t\t\t...data,\r\n\t\t\tdocDate: docDate,\r\n\t\t\tdescription: description,\r\n\t\t\tpoNo: poNo,\r\n\t\t\tdrNo: drNo,\r\n\t\t\tsupplier: supplier,\r\n\t\t\tamount: amount,\r\n\t\t\tremarks: remarks,\r\n\t\t};\r\n\t};\r\n\r\n\tconst getErrors = () => {\r\n\t\tconst ret: string[] = [];\r\n\r\n\t\treturn ret;\r\n\t};\r\n\r\n\tconst handleSubmit = (e?: React.SyntheticEvent) => {\r\n\t\te?.preventDefault();\r\n\r\n\t\tconst isValid = formRef.current?.reportValidity();\r\n\t\tif (isValid) {\r\n\t\t\tconst errors = getErrors();\r\n\t\t\tif (errors.length > 0) {\r\n\t\t\t\tnc.snackbar.show(errors, \"error\");\r\n\t\t\t} else {\r\n\t\t\t\tconst newData = getData();\r\n\t\t\t\tonSubmit(newData);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (execSubmit) handleSubmit();\r\n\t}, [execSubmit]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<form\r\n\t\t\t\tref={formRef}\r\n\t\t\t\tclassName={classes.root}\r\n\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\tonSubmit={handleSubmit}\r\n\t\t\t>\r\n\t\t\t\t<FormControl>\r\n\t\t\t\t\t<FormLabel>Record Id</FormLabel>\r\n\t\t\t\t\t<b>{data.id == 0 ? \"[New Record]\" : data.id}</b>\r\n\t\t\t\t</FormControl>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Date\"\r\n\t\t\t\t\ttype=\"date\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tvalue={FDateCustom(docDate, \"YYYY-MM-DD\")}\r\n\t\t\t\t\tonChange={(e) => setDocDate(new Date(e.target.value))}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Description\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tvalue={description}\r\n\t\t\t\t\tonChange={(e) => setDescription(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"PO No.\"\r\n\t\t\t\t\tvalue={poNo}\r\n\t\t\t\t\tonChange={(e) => setPONo(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"DR No.\"\r\n\t\t\t\t\tvalue={drNo}\r\n\t\t\t\t\tonChange={(e) => setDRNo(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Supplier\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tvalue={supplier}\r\n\t\t\t\t\tonChange={(e) => setSupplier(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t\t<AmountField\r\n\t\t\t\t\tvalue={amount}\r\n\t\t\t\t\tonFinalChange={(value) => setAmount(value)}\r\n\t\t\t\t\tzeroIsAllowed={true}\r\n\t\t\t\t\ttfProps={{\r\n\t\t\t\t\t\tlabel: \"Amount\",\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tinputProps: { style: { textAlign: \"right\" } },\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<TextField\r\n\t\t\t\t\tlabel=\"Remarks\"\r\n\t\t\t\t\tmultiline\r\n\t\t\t\t\tvalue={remarks}\r\n\t\t\t\t\tonChange={(e) => setRemarks(e.target.value)}\r\n\t\t\t\t/>\r\n\t\t\t</form>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Form;\r\n","import { Button } from \"@material-ui/core\";\r\nimport { FC, useContext } from \"react\";\r\nimport PageCommands from \"../../../../components/page-commands\";\r\nimport { useGlobal, useRequest } from \"../../../../lib/hooks\";\r\nimport { Delivery, Warehouse } from \"../../../../lib/models-inventory\";\r\nimport { NotificationContext } from \"../../../../lib/notifications\";\r\nimport PageStateContext, {\r\n\tPageModeType,\r\n} from \"../../../../lib/pageStateContext\";\r\nimport Form from \"./form\";\r\n\r\ninterface IProps {\r\n\tparent: Warehouse;\r\n}\r\n\r\nconst Create: FC<IProps> = ({ parent }) => {\r\n\tconst ps = useContext(PageStateContext);\r\n\r\n\tconst req = useRequest();\r\n\tconst nc = useContext(NotificationContext);\r\n\r\n\tconst handleSubmit = async (data: Delivery) => {\r\n\t\tnc.processing.show();\r\n\t\tlet res = await req.post(\r\n\t\t\t`${process.env.REACT_APP_API}/inventory/delivery/save`,\r\n\t\t\tdata\r\n\t\t);\r\n\t\tif (res.success) {\r\n\t\t\tnc.snackbar.show(\"Record was successfully saved\");\r\n\t\t\tbackToView(res.data);\r\n\t\t}\r\n\t\tnc.processing.hide();\r\n\t};\r\n\r\n\tconst backToList = () => {\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setPageMode\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<PageModeType>\r\n\t\t\t>\r\n\t\t)(\"list\");\r\n\t};\r\n\r\n\tconst backToView = (data: Delivery) => {\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setOpenProps\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<object>\r\n\t\t\t>\r\n\t\t)({ data: data });\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setPageMode\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<PageModeType>\r\n\t\t\t>\r\n\t\t)(\"view\");\r\n\t};\r\n\r\n\tconst submitForm = () => {\r\n\t\t(\r\n\t\t\tps.Get(\"create-delivery-form-setExecSubmit\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<Date | null>\r\n\t\t\t>\r\n\t\t)(new Date());\r\n\t};\r\n\r\n\tconst newData = new Delivery();\r\n\tnewData.warehouseId = parent.id;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h4>Create Delivery</h4>\r\n\t\t\t<Form onSubmit={handleSubmit} data={newData} />\r\n\t\t\t<PageCommands>\r\n\t\t\t\t<Button variant=\"contained\" color=\"default\" onClick={backToList}>\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={submitForm}>\r\n\t\t\t\t\tSave\r\n\t\t\t\t</Button>\r\n\t\t\t</PageCommands>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Create;\r\n","import { Button } from \"@material-ui/core\";\r\nimport { FC, useContext } from \"react\";\r\nimport PageCommands from \"../../../../components/page-commands\";\r\nimport { useGlobal, useRequest } from \"../../../../lib/hooks\";\r\nimport { Delivery } from \"../../../../lib/models-inventory\";\r\nimport { NotificationContext } from \"../../../../lib/notifications\";\r\nimport PageStateContext, {\r\n\tPageModeType,\r\n} from \"../../../../lib/pageStateContext\";\r\nimport Form from \"./form\";\r\n\r\ninterface IProps {\r\n\tdata?: Delivery;\r\n}\r\n\r\nconst Edit: FC<IProps> = ({ data }) => {\r\n\tconst ps = useContext(PageStateContext);\r\n\r\n\tconst req = useRequest();\r\n\tconst nc = useContext(NotificationContext);\r\n\r\n\tif (!data) return <div>No data provided</div>;\r\n\r\n\tconst handleSubmit = async (data: Delivery) => {\r\n\t\tnc.processing.show();\r\n\t\tlet res = await req.post(\r\n\t\t\t`${process.env.REACT_APP_API}/inventory/delivery/save`,\r\n\t\t\tdata\r\n\t\t);\r\n\t\tif (res.success) {\r\n\t\t\tnc.snackbar.show(\"Record was successfully saved\");\r\n\t\t\tbackToView(res.data);\r\n\t\t}\r\n\t\tnc.processing.hide();\r\n\t};\r\n\r\n\tconst backToView = (data?: Delivery) => {\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setOpenProps\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<object>\r\n\t\t\t>\r\n\t\t)({ data: data });\r\n\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setPageMode\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<PageModeType>\r\n\t\t\t>\r\n\t\t)(\"view\");\r\n\t};\r\n\r\n\tconst submitForm = () => {\r\n\t\t(\r\n\t\t\tps.Get(\"create-delivery-form-setExecSubmit\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<Date | null>\r\n\t\t\t>\r\n\t\t)(new Date());\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h4>Update Delivery</h4>\r\n\t\t\t<Form onSubmit={handleSubmit} data={data} />\r\n\t\t\t<PageCommands>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\tonClick={() => backToView(data)}\r\n\t\t\t\t>\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={submitForm}>\r\n\t\t\t\t\tSave\r\n\t\t\t\t</Button>\r\n\t\t\t</PageCommands>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Edit;\r\n","import { FC, useContext, useEffect, useState } from \"react\";\r\nimport { useGlobal, useRequest } from \"../../../../lib/hooks\";\r\nimport { DeliveryItem, Stock } from \"../../../../lib/models-inventory\";\r\nimport { FDateTime, FDouble } from \"../../../../lib/common\";\r\nimport {\r\n\tDataGrid,\r\n\tGridColDef,\r\n\tGridPageChangeParams,\r\n\tGridValueFormatterParams,\r\n\tGridValueGetterParams,\r\n} from \"@material-ui/data-grid\";\r\n\r\nimport Loading from \"../../../../components/loading\";\r\nimport PageStateContext from \"../../../../lib/pageStateContext\";\r\n\r\nexport interface IItemProps {\r\n\trefresh: Date;\r\n\tparentId: number;\r\n}\r\n\r\nconst ItemsView: FC<IItemProps> = ({ refresh, parentId }) => {\r\n\tconst ps = useContext(PageStateContext);\r\n\r\n\tconst req = useRequest();\r\n\r\n\tconst [data, setData] = useState<DeliveryItem[] | null>(null);\r\n\r\n\tconst getList = async () => {\r\n\t\tconst res = await req.get(\r\n\t\t\t`${process.env.REACT_APP_API}/inventory/delivery-items?parentId=${parentId}`\r\n\t\t);\r\n\t\tif (res.success) {\r\n\t\t\tsetData(res.data);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tgetList();\r\n\t}, [refresh]);\r\n\r\n\tconst columns: GridColDef[] = [\r\n\t\t{ field: \"stockId\", headerName: \"Stock Id\", width: 150 },\r\n\t\t{\r\n\t\t\tfield: \"stockName\",\r\n\t\t\theaderName: \"Stock Name\",\r\n\t\t\twidth: 300,\r\n\t\t\tvalueGetter: (params: GridValueGetterParams) =>\r\n\t\t\t\t(params.getValue(params.id, \"stock\") as Stock)?.stockName,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"description\",\r\n\t\t\theaderName: \"Description\",\r\n\t\t\twidth: 300,\r\n\t\t\tvalueGetter: (params: GridValueGetterParams) =>\r\n\t\t\t\t(params.getValue(params.id, \"stock\") as Stock)?.description,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"unit\",\r\n\t\t\theaderName: \"Unit\",\r\n\t\t\twidth: 150,\r\n\t\t\tvalueGetter: (params: GridValueGetterParams) =>\r\n\t\t\t\t(params.getValue(params.id, \"stock\") as Stock)?.unit?.unit,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"category\",\r\n\t\t\theaderName: \"Category\",\r\n\t\t\twidth: 150,\r\n\t\t\tvalueGetter: (params: GridValueGetterParams) =>\r\n\t\t\t\t(params.getValue(params.id, \"stock\") as Stock)?.category?.category,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"qty\",\r\n\t\t\theaderName: \"Qty\",\r\n\t\t\twidth: 100,\r\n\t\t\theaderAlign: \"center\",\r\n\t\t\talign: \"center\",\r\n\t\t\ttype: \"number\",\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"price\",\r\n\t\t\theaderName: \"Price (â‚±)\",\r\n\t\t\twidth: 150,\r\n\t\t\theaderAlign: \"right\",\r\n\t\t\talign: \"right\",\r\n\t\t\ttype: \"number\",\r\n\t\t\tvalueFormatter: (params: GridValueFormatterParams) =>\r\n\t\t\t\tFDouble(Number(params.value)),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{data ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<h4>Delivery Items</h4>\r\n\t\t\t\t\t<small>As of {FDateTime(refresh)}</small>\r\n\t\t\t\t\t<div style={{ height: 400, width: \"100%\" }}>\r\n\t\t\t\t\t\t<DataGrid\r\n\t\t\t\t\t\t\trows={data}\r\n\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\thideFooterPagination={true}\r\n\t\t\t\t\t\t\tautoHeight\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<Loading />\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ItemsView;\r\n","import {\r\n\tBox,\r\n\tButton,\r\n\tDivider,\r\n\tGrid,\r\n\tPaper,\r\n\tTextField,\r\n} from \"@material-ui/core\";\r\nimport { FC, useContext } from \"react\";\r\nimport PageCommands from \"../../../../components/page-commands\";\r\nimport { Delivery } from \"../../../../lib/models-inventory\";\r\nimport PageStateContext, {\r\n\tPageModeType,\r\n} from \"../../../../lib/pageStateContext\";\r\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\r\nimport { FCurrency, FDate, FDateTime } from \"../../../../lib/common\";\r\nimport ItemsView from \"./items-view\";\r\nimport { useGlobal, useRequest } from \"../../../../lib/hooks\";\r\nimport { NotificationContext } from \"../../../../lib/notifications\";\r\nimport { deleteRecord } from \"./list\";\r\nimport ConfirmedImage from \"../../../../assets/confirmed.png\";\r\nimport { StyledViewField, StyledViewPage } from \"../../../../components/styled\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\tconfirmed: {\r\n\t\t\twidth: 300,\r\n\t\t\tposition: \"absolute\",\r\n\t\t\ttop: 50,\r\n\t\t\tright: 50,\r\n\t\t\topaity: 0.1,\r\n\t\t},\r\n\t})\r\n);\r\n\r\ninterface IProps {\r\n\tdata?: Delivery;\r\n}\r\n\r\nconst View: FC<IProps> = ({ data }) => {\r\n\tconst g = useGlobal();\r\n\tconst req = useRequest();\r\n\tconst nc = useContext(NotificationContext);\r\n\r\n\tconst classes = useStyles();\r\n\tconst ps = useContext(PageStateContext);\r\n\r\n\tif (!data) return <div>No data provided</div>;\r\n\r\n\tconst backToList = () => {\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setPageMode\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<PageModeType>\r\n\t\t\t>\r\n\t\t)(\"list\");\r\n\t};\r\n\r\n\tconst edit = () => {\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setOpenProps\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<object>\r\n\t\t\t>\r\n\t\t)({ data: data });\r\n\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setPageMode\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<PageModeType>\r\n\t\t\t>\r\n\t\t)(\"edit\");\r\n\t};\r\n\r\n\tconst updateItems = () => {\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setOpenProps\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<object>\r\n\t\t\t>\r\n\t\t)({ refresh: new Date(), parent: data });\r\n\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setPageMode\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<PageModeType>\r\n\t\t\t>\r\n\t\t)(\"view-items\");\r\n\t};\r\n\r\n\tconst create = () => {\r\n\t\tconst d = new Delivery();\r\n\t\td.warehouseId = data.warehouseId;\r\n\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setOpenProps\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<object>\r\n\t\t\t>\r\n\t\t)({ data: d });\r\n\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setPageMode\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<PageModeType>\r\n\t\t\t>\r\n\t\t)(\"create\");\r\n\t};\r\n\r\n\tconst confirm = async () => {\r\n\t\tconst confirmed = await nc.confirmbox.show(\r\n\t\t\t\"Are you sure you want to confirm this document?\"\r\n\t\t);\r\n\t\tif (!confirmed) return;\r\n\r\n\t\tnc.processing.show();\r\n\t\tlet res = await req.post(\r\n\t\t\t`${process.env.REACT_APP_API}/inventory/delivery/confirm?id=${data.id}&profileId=${g.Profile.id}`\r\n\t\t);\r\n\t\tif (res.success) {\r\n\t\t\tnc.snackbar.show(\"Document was successfully confirmed\");\r\n\t\t\tbackToList();\r\n\t\t}\r\n\t\tnc.processing.hide();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<h4>View Delivery</h4>\r\n\r\n\t\t\t<StyledViewPage>\r\n\t\t\t\t{data.isConfirmed && (\r\n\t\t\t\t\t<img src={ConfirmedImage} className={classes.confirmed} />\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item sm={2}>\r\n\t\t\t\t\t\t<Box textAlign=\"right\" fontWeight=\"bold\">\r\n\t\t\t\t\t\t\tId:\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={10}>\r\n\t\t\t\t\t\t<StyledViewField>{data.id}</StyledViewField>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item sm={2}>\r\n\t\t\t\t\t\t<Box textAlign=\"right\" fontWeight=\"bold\">\r\n\t\t\t\t\t\t\tDate:\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={10}>\r\n\t\t\t\t\t\t<StyledViewField>{FDate(data.docDate)}</StyledViewField>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item sm={2}>\r\n\t\t\t\t\t\t<Box textAlign=\"right\" fontWeight=\"bold\">\r\n\t\t\t\t\t\t\tDescription:\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={10}>\r\n\t\t\t\t\t\t<StyledViewField>{data.description}</StyledViewField>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item sm={2}>\r\n\t\t\t\t\t\t<Box textAlign=\"right\" fontWeight=\"bold\">\r\n\t\t\t\t\t\t\tPO No.:\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={10}>\r\n\t\t\t\t\t\t<StyledViewField>{data.poNo}</StyledViewField>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item sm={2}>\r\n\t\t\t\t\t\t<Box textAlign=\"right\" fontWeight=\"bold\">\r\n\t\t\t\t\t\t\tDR No.:\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={10}>\r\n\t\t\t\t\t\t<StyledViewField>{data.drNo}</StyledViewField>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item sm={2}>\r\n\t\t\t\t\t\t<Box textAlign=\"right\" fontWeight=\"bold\">\r\n\t\t\t\t\t\t\tSupplier:\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={10}>\r\n\t\t\t\t\t\t<StyledViewField>{data.supplier}</StyledViewField>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item sm={2}>\r\n\t\t\t\t\t\t<Box textAlign=\"right\" fontWeight=\"bold\">\r\n\t\t\t\t\t\t\tAmount:\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={10}>\r\n\t\t\t\t\t\t<StyledViewField>{FCurrency(data.amount)}</StyledViewField>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t<Grid item sm={2}>\r\n\t\t\t\t\t\t<Box textAlign=\"right\" fontWeight=\"bold\">\r\n\t\t\t\t\t\t\tRemarks:\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item sm={10}>\r\n\t\t\t\t\t\t<StyledViewField>{data.remarks}</StyledViewField>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t{data.isConfirmed && (\r\n\t\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t\t<Grid item sm={2}>\r\n\t\t\t\t\t\t\t<Box textAlign=\"right\" fontWeight=\"bold\">\r\n\t\t\t\t\t\t\t\tConfirmed by:\r\n\t\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item sm={10}>\r\n\t\t\t\t\t\t\t<TextField value={data.confirmedBy?.name} disabled />\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<small>{FDateTime(data.dateConfirmed)}</small>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Divider />\r\n\t\t\t\t{data && <ItemsView refresh={new Date()} parentId={data.id} />}\r\n\t\t\t</StyledViewPage>\r\n\r\n\t\t\t<PageCommands>\r\n\t\t\t\t<Button variant=\"contained\" color=\"default\" onClick={backToList}>\r\n\t\t\t\t\tBack to list\r\n\t\t\t\t</Button>\r\n\t\t\t\t{data.itemCount > 0 && !data.isConfirmed && (\r\n\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={confirm}>\r\n\t\t\t\t\t\tConfirm\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{!data.isConfirmed && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={updateItems}>\r\n\t\t\t\t\t\t\tUpdate Items\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={edit}>\r\n\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={create}>\r\n\t\t\t\t\t\t\tCreate\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\tonClick={() => deleteRecord(data.id, g, req, nc, backToList)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t</PageCommands>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default View;\r\n","import { FC, useContext, useEffect, useState } from \"react\";\r\nimport { useGlobal, useRequest } from \"../../../../lib/hooks\";\r\nimport { Box, Button, TextField } from \"@material-ui/core\";\r\nimport {\r\n\tDelivery,\r\n\tDeliveryItem,\r\n\tStock,\r\n} from \"../../../../lib/models-inventory\";\r\nimport { FDate, FDateTime, FDouble } from \"../../../../lib/common\";\r\nimport {\r\n\tDataGrid,\r\n\tGridCellParams,\r\n\tGridColDef,\r\n\tGridPageChangeParams,\r\n\tGridRowId,\r\n\tGridValueGetterParams,\r\n} from \"@material-ui/data-grid\";\r\n\r\nimport Loading from \"../../../../components/loading\";\r\nimport PageStateContext, {\r\n\tPageModeType,\r\n} from \"../../../../lib/pageStateContext\";\r\nimport PageCommands from \"../../../../components/page-commands\";\r\nimport { NotificationContext } from \"../../../../lib/notifications\";\r\nimport { StocksSelectDialog } from \"../../../../components/data-select/stocks-select\";\r\nimport { AmountField } from \"../../../../components/amount-field\";\r\n\r\nexport interface IItemProps {\r\n\trefresh: Date;\r\n\tparent: Delivery;\r\n}\r\n\r\nconst Items: FC<IItemProps> = ({ refresh, parent }) => {\r\n\tconst ps = useContext(PageStateContext);\r\n\r\n\tconst req = useRequest();\r\n\tconst nc = useContext(NotificationContext);\r\n\r\n\tconst [data, setData] = useState<DeliveryItem[] | null>(null);\r\n\tconst [dataBak, setDataBak] = useState<DeliveryItem[] | null>(null);\r\n\r\n\tconst getList = async () => {\r\n\t\tconst res = await req.get(\r\n\t\t\t`${process.env.REACT_APP_API}/inventory/delivery-items?parentId=${parent?.id}`\r\n\t\t);\r\n\t\tif (res.success) {\r\n\t\t\tsetData(res.data);\r\n\t\t\tsetDataBak(JSON.parse(JSON.stringify(res.data)));\r\n\t\t}\r\n\t};\r\n\r\n\tconst validate = () => {\r\n\t\tlet errors: string[] = [];\r\n\r\n\t\tdata?.forEach((x) => {\r\n\t\t\tif (x.stock == null) {\r\n\t\t\t\terrors.push(\r\n\t\t\t\t\t`Stock Id# ${x.stockId} does not exist anymore. It was probably deleted. Please remove the item.`\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tif (x.qty <= 0)\r\n\t\t\t\t\terrors.push(\r\n\t\t\t\t\t\t`Stock Id# ${x.stockId} Qty is invalid. Please specify a value greater than 0`\r\n\t\t\t\t\t);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn errors;\r\n\t};\r\n\r\n\tconst saveList = async () => {\r\n\t\tconst errors = validate();\r\n\t\tif (errors.length > 0) {\r\n\t\t\tnc.msgbox.show(errors, \"Save items\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst res = await req.post(\r\n\t\t\t`${process.env.REACT_APP_API}/inventory/delivery-items/save?parentId=${parent?.id}`,\r\n\t\t\tdata\r\n\t\t);\r\n\r\n\t\tif (res.success) {\r\n\t\t\tnc.snackbar.show(\"Items were successfully saved\");\r\n\t\t\tbackToView();\r\n\t\t}\r\n\t};\r\n\r\n\tconst isPrestine = () => JSON.stringify(data) == JSON.stringify(dataBak);\r\n\r\n\tconst backToView = () => {\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setOpenProps\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<object>\r\n\t\t\t>\r\n\t\t)({ data: parent });\r\n\t\t(\r\n\t\t\tps.Get(\"deliveries-setPageMode\")?.dispatch as React.Dispatch<\r\n\t\t\t\tReact.SetStateAction<PageModeType>\r\n\t\t\t>\r\n\t\t)(\"view\");\r\n\t};\r\n\r\n\tconst removeSelectedItems = () => {\r\n\t\tconst newData =\r\n\t\t\tdata?.filter((x) => selectionModel.find((y) => y == x.id) == null) ??\r\n\t\t\tnull;\r\n\r\n\t\tsetData(newData);\r\n\t\tsetSelectionModel([]);\r\n\t};\r\n\r\n\tconst handleAddItems = (value: Stock[]) => {\r\n\t\t//max data id\r\n\t\tlet maxId = 0;\r\n\t\tconst lst = data\r\n\t\t\t?.map((x) => x.id)\r\n\t\t\t.sort()\r\n\t\t\t.reverse();\r\n\t\tif (lst && lst.length > 0) maxId = lst[0];\r\n\r\n\t\tconst newItems: DeliveryItem[] = value.map((x, i) => {\r\n\t\t\treturn {\r\n\t\t\t\tid: maxId + i + 1,\r\n\t\t\t\tparentId: parent?.id,\r\n\t\t\t\tstockId: x.id,\r\n\t\t\t\tstock: x,\r\n\t\t\t\tqty: 1,\r\n\t\t\t\tprice: 0,\r\n\t\t\t};\r\n\t\t});\r\n\r\n\t\tconst _data = [...(data ?? []), ...newItems];\r\n\t\tsetData(_data);\r\n\t};\r\n\r\n\tconst [openStockSelection, setOpenStockSelection] = useState(false);\r\n\r\n\tconst [selectionModel, setSelectionModel] = useState<GridRowId[]>([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tparent && getList();\r\n\t}, [refresh]);\r\n\r\n\tconst columns: GridColDef[] = [\r\n\t\t{ field: \"stockId\", headerName: \"Stock Id\", width: 150 },\r\n\t\t{\r\n\t\t\tfield: \"stockName\",\r\n\t\t\theaderName: \"Stock Name\",\r\n\t\t\twidth: 300,\r\n\t\t\tvalueGetter: (params: GridValueGetterParams) =>\r\n\t\t\t\t(params.getValue(params.id, \"stock\") as Stock)?.stockName,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"description\",\r\n\t\t\theaderName: \"Description\",\r\n\t\t\twidth: 300,\r\n\t\t\tvalueGetter: (params: GridValueGetterParams) =>\r\n\t\t\t\t(params.getValue(params.id, \"stock\") as Stock)?.description,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"unit\",\r\n\t\t\theaderName: \"Unit\",\r\n\t\t\twidth: 150,\r\n\t\t\tvalueGetter: (params: GridValueGetterParams) =>\r\n\t\t\t\t(params.getValue(params.id, \"stock\") as Stock)?.unit?.unit,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"category\",\r\n\t\t\theaderName: \"Category\",\r\n\t\t\twidth: 150,\r\n\t\t\tvalueGetter: (params: GridValueGetterParams) =>\r\n\t\t\t\t(params.getValue(params.id, \"stock\") as Stock)?.category?.category,\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"qty\",\r\n\t\t\theaderName: \"Qty\",\r\n\t\t\twidth: 100,\r\n\t\t\theaderAlign: \"center\",\r\n\t\t\talign: \"center\",\r\n\t\t\ttype: \"number\",\r\n\t\t\trenderCell: (params: GridCellParams) => (\r\n\t\t\t\t<RenderCell\r\n\t\t\t\t\tdata={data}\r\n\t\t\t\t\tsetData={setData}\r\n\t\t\t\t\tparams={params}\r\n\t\t\t\t\tfieldName=\"qty\"\r\n\t\t\t\t/>\r\n\t\t\t),\r\n\t\t},\r\n\t\t{\r\n\t\t\tfield: \"price\",\r\n\t\t\theaderName: \"Price (â‚±)\",\r\n\t\t\twidth: 150,\r\n\t\t\theaderAlign: \"right\",\r\n\t\t\talign: \"right\",\r\n\t\t\ttype: \"number\",\r\n\t\t\trenderCell: (params: GridCellParams) => (\r\n\t\t\t\t<RenderCell\r\n\t\t\t\t\tdata={data}\r\n\t\t\t\t\tsetData={setData}\r\n\t\t\t\t\tparams={params}\r\n\t\t\t\t\tfieldName=\"price\"\r\n\t\t\t\t/>\r\n\t\t\t),\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Box textAlign=\"center\">\r\n\t\t\t\t<b>{parent?.description}</b>\r\n\t\t\t\t<br />\r\n\t\t\t\t<small>{`Date: ${FDate(parent?.docDate)} | DR # ${\r\n\t\t\t\t\tparent?.drNo\r\n\t\t\t\t} | PO # ${parent?.poNo}`}</small>\r\n\t\t\t</Box>\r\n\r\n\t\t\t{data ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<h4>Delivery Items</h4>\r\n\t\t\t\t\t<small>As of {FDateTime(refresh)}</small>\r\n\t\t\t\t\t<div style={{ height: 400, width: \"100%\" }}>\r\n\t\t\t\t\t\t<DataGrid\r\n\t\t\t\t\t\t\trows={data}\r\n\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\thideFooterPagination={true}\r\n\t\t\t\t\t\t\tautoHeight\r\n\t\t\t\t\t\t\tcheckboxSelection\r\n\t\t\t\t\t\t\tdisableSelectionOnClick\r\n\t\t\t\t\t\t\tselectionModel={selectionModel}\r\n\t\t\t\t\t\t\tonSelectionModelChange={(newSelection) =>\r\n\t\t\t\t\t\t\t\tsetSelectionModel(newSelection.selectionModel)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<StocksSelectDialog\r\n\t\t\t\t\t\tselectedIds={data.map((x) => x.stockId)}\r\n\t\t\t\t\t\topen={openStockSelection}\r\n\t\t\t\t\t\tsetOpen={setOpenStockSelection}\r\n\t\t\t\t\t\tonSelectionConfirmed={handleAddItems}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<PageCommands>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\t\tif (!isPrestine()) {\r\n\t\t\t\t\t\t\t\t\tconst confirmed = await nc.confirmbox.show(\r\n\t\t\t\t\t\t\t\t\t\t\"Some changes were not yet saved. Would you like to save these changes?\"\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\tif (confirmed) {\r\n\t\t\t\t\t\t\t\t\t\tsaveList();\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tbackToView();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => setOpenStockSelection(true)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tAdd Items\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t<Button variant=\"contained\" color=\"primary\" onClick={saveList}>\r\n\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t</Button>\r\n\r\n\t\t\t\t\t\t{selectionModel.length > 0 && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tonClick={removeSelectedItems}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tRemove Selected Items\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</PageCommands>\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<Loading />\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Items;\r\n\r\ninterface IProps {\r\n\tdata: DeliveryItem[] | null;\r\n\tsetData: React.Dispatch<React.SetStateAction<DeliveryItem[] | null>>;\r\n\tparams: GridCellParams;\r\n\tfieldName: \"qty\" | \"price\";\r\n}\r\n\r\nconst RenderCell: FC<IProps> = ({ data, setData, params, fieldName }) => {\r\n\tif (data == null) return <>[No data]</>;\r\n\r\n\tif (fieldName === \"qty\")\r\n\t\treturn (\r\n\t\t\t<TextField\r\n\t\t\t\tvalue={data.find((x) => x.id == params.id)?.qty}\r\n\t\t\t\trequired\r\n\t\t\t\ttype=\"number\"\r\n\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\tinputProps={{ style: { textAlign: \"center\" } }}\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\tlet ds = [...data];\r\n\t\t\t\t\tlet d = ds.find((x) => x.id == params.id);\r\n\t\t\t\t\tif (d) {\r\n\t\t\t\t\t\tif (!isNaN(Number(e.target.value))) {\r\n\t\t\t\t\t\t\tconst n = parseInt(e.target.value);\r\n\t\t\t\t\t\t\tif (n > 0) d.qty = n;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tsetData && setData([...ds]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t);\r\n\telse\r\n\t\treturn (\r\n\t\t\t<AmountField\r\n\t\t\t\tvalue={data.find((x) => x.id == params.id)?.price ?? null}\r\n\t\t\t\tzeroIsAllowed={true}\r\n\t\t\t\tonFinalChange={(value) => {\r\n\t\t\t\t\tlet ds = [...data];\r\n\t\t\t\t\tlet d = ds.find((x) => x.id == params.id);\r\n\t\t\t\t\tif (d) {\r\n\t\t\t\t\t\td.price = value;\r\n\t\t\t\t\t\tsetData([...ds]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\ttfProps={{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tvariant: \"outlined\",\r\n\t\t\t\t\tinputProps: { style: { textAlign: \"right\" } },\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t);\r\n};\r\n","import { FC, useContext, useState } from \"react\";\r\nimport BasePage from \"../../../base-page\";\r\nimport PageHeader from \"../../../base-page/page-header\";\r\nimport PageStateContext, {\r\n\tPageModeType,\r\n} from \"../../../../lib/pageStateContext\";\r\nimport List from \"./list\";\r\nimport Create from \"./create\";\r\nimport Edit from \"./edit\";\r\nimport View from \"./view\";\r\nimport Landing from \"../landing-page\";\r\nimport { WarehouseSelect } from \"../../../../components/data-select/warehouse-select\";\r\nimport { Warehouse } from \"../../../../lib/models-inventory\";\r\nimport Items, { IItemProps } from \"./items\";\r\n\r\nconst Deliveries: FC = () => {\r\n\tconst [pageMode, setPageMode] = useState<PageModeType>(\"list\");\r\n\tconst [openProps, setOpenProps] = useState<object>({});\r\n\r\n\tconst ps = useContext(PageStateContext);\r\n\tps.Add({ key: \"deliveries-setPageMode\", dispatch: setPageMode });\r\n\tps.Add({ key: \"deliveries-setOpenProps\", dispatch: setOpenProps });\r\n\r\n\tconst warehouseCookie = sessionStorage.getItem(\"warehouse-selection\");\r\n\tconst [warehouse, setWarehouse] = useState<Warehouse | null>(\r\n\t\twarehouseCookie ? JSON.parse(warehouseCookie) : null\r\n\t);\r\n\r\n\tconst handleWarehouseSelect = (value: Warehouse | undefined) => {\r\n\t\tif (value) {\r\n\t\t\tsetWarehouse(value);\r\n\t\t\tsessionStorage.setItem(\"warehouse-selection\", JSON.stringify(value));\r\n\t\t} else {\r\n\t\t\tsetWarehouse(null);\r\n\t\t\tsessionStorage.removeItem(\"warehouse-selection\");\r\n\t\t}\r\n\t\tsetPageMode(\"list\");\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Landing />\r\n\r\n\t\t\t<WarehouseSelect\r\n\t\t\t\tvalue={warehouse ?? undefined}\r\n\t\t\t\tonChange={handleWarehouseSelect}\r\n\t\t\t/>\r\n\t\t\t<br />\r\n\t\t\t{warehouse ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{pageMode == \"list\" && (\r\n\t\t\t\t\t\t<List refresh={new Date()} warehouseId={warehouse.id} />\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{pageMode == \"create\" && <Create parent={warehouse} />}\r\n\t\t\t\t\t{pageMode == \"edit\" && <Edit {...openProps} />}\r\n\t\t\t\t\t{pageMode == \"view\" && <View {...openProps} />}\r\n\t\t\t\t\t{pageMode == \"view-items\" && <Items {...(openProps as IItemProps)} />}\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<>[Please select a warehouse to work on]</>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Deliveries;\r\n"],"sourceRoot":""}