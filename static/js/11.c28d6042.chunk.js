(this.webpackJsonpgpc=this.webpackJsonpgpc||[]).push([[11,36],{255:function(e,t,n){"use strict";var c=n(2);t.a=function(e){return Object(c.jsx)("div",{className:"page-commands",children:e.children})}},256:function(e,t,n){"use strict";n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return l})),n.d(t,"e",(function(){return j})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return O}));var c=n(5),r=n(201),a=n(334),i=n(200),o=n(88),s=n(2),u=Object(c.a)((function(e){return Object(r.a)({badge:{right:-3,top:13,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px",backgroundColor:"gray",color:"white"}})}))(a.a),d=Object(c.a)((function(e){return Object(r.a)({badge:{right:-3,top:13,border:"2px solid ".concat(e.palette.background.paper),padding:"0 4px",backgroundColor:"green",color:"white"}})}))(a.a),l=function(e){var t=Object(i.a)((function(e){return Object(r.a)({root:{flexGrow:1},paper:{padding:e.spacing(2),color:e.palette.text.secondary,minHeight:400,position:"relative"}})}))();return Object(s.jsx)("div",{className:t.root,children:Object(s.jsx)(o.a,{className:t.paper,children:e.children})})},j=function(e){var t=e.height,n=e.maxWidth,c=e.children,a=Object(i.a)((function(e){return Object(r.a)({root:{fontSize:16,padding:"0 2px",borderBottom:"2px dotted #e0e0e0",height:null!==t&&void 0!==t?t:"initial",maxWidth:null!==n&&void 0!==n?n:300,minHeight:20}})}))();return Object(s.jsx)("div",{className:a.root,children:c})},h=function(e){var t=e.align,n=e.wrap,c=e.className,a=e.children,o=Object(i.a)((function(e){return Object(r.a)({root:{textAlign:t,whiteSpace:n?"initial":"nowrap","& > ul":{margin:0,paddingInlineStart:0},"& ul ul":{padding:"20px"},"& li":{listStyle:"none",display:"inline-block",verticalAlign:"top",margin:"left"==t?"0 10px 0 0":"center"==t?"0 5px 0 5px":"0 0 0 10px"}}})}))();return Object(s.jsx)("div",{className:"".concat(o.root," ").concat(null!==c&&void 0!==c?c:""),children:Object(s.jsx)("ul",{children:a})})},b=function(e){var t=e.align,n=e.width,c=e.children,a=Object(i.a)((function(e){return Object(r.a)({root:{textAlign:null!==t&&void 0!==t?t:"left",width:n?"".concat(n,"px"):"initial"}})}))();return Object(s.jsx)("li",{className:a.root,children:c})},O=Object(i.a)((function(e){return Object(r.a)({root:{"&, & *":{cursor:"pointer !important",color:"black !important"},"&:hover *":{color:"blue !important"}}})}))},259:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return b}));var c=n(65),r=n(64),a=n(7),i=function e(){Object(a.a)(this,e),this.id=0,this.unit=""},o=function e(){Object(a.a)(this,e),this.id=0,this.category=""},s=function e(){Object(a.a)(this,e),this.id=0,this.warehouse="",this.accountNo="",this.account=void 0},u=function e(){Object(a.a)(this,e),this.id=0,this.stockName="",this.description="",this.unitId=0,this.categoryId=0,this.unit=void 0,this.category=void 0},d=function e(){Object(a.a)(this,e),this.id=0,this.docDate=new Date,this.description="",this.warehouseId=0,this.remarks="",this.isConfirmed=!1,this.dateConfirmed=void 0,this.conrirmedByProfileId=void 0,this.confirmedBy=void 0,this.warehouse=void 0,this.itemCount=0},l=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).poNo="",e.drNo="",e.amount=0,e.supplier="",e}return n}(d),j=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return n}(d),h=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).orNo="",e.accountNo="",e.account=void 0,e.amount=0,e}return n}(d),b=function(e){Object(c.a)(n,e);var t=Object(r.a)(n);function n(){var e;Object(a.a)(this,n);for(var c=arguments.length,r=new Array(c),i=0;i<c;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).orNo="",e.toWarehouseId=0,e.toWarehouse=void 0,e.amount=0,e}return n}(d)},260:function(e,t,n){"use strict";n.r(t);var c=n(235),r=(n(89),n(57)),a=n(2),i=function(){var e=Object(r.b)().go;return Object(a.jsxs)("div",{className:"landing-page-menu",children:[Object(a.jsx)(c.a,{onClick:function(){return e("delivery")},children:"Delivery"}),Object(a.jsx)(c.a,{onClick:function(){return e("pricelist")},children:"Price List"}),Object(a.jsx)(c.a,{onClick:function(){return e("account-order")},children:"Account Order"}),Object(a.jsx)(c.a,{onClick:function(){return e("warehouse-order")},children:"Warehouse Order"}),"\xa0|\xa0",Object(a.jsx)(c.a,{onClick:function(){return e("inventory-report")},children:"Inventory"}),"\xa0|\xa0",Object(a.jsx)(c.a,{onClick:function(){return e("units")},children:"Units"}),Object(a.jsx)(c.a,{onClick:function(){return e("categories")},children:"Categories"}),Object(a.jsx)(c.a,{onClick:function(){return e("warehouse")},children:"Warehouse"}),Object(a.jsx)(c.a,{onClick:function(){return e("stocks")},children:"Stocks"})]})};t.default=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h3",{children:"Inventory"}),Object(a.jsx)("p",{children:"Please select your task"}),Object(a.jsx)(i,{}),Object(a.jsx)("hr",{}),Object(a.jsx)("br",{})]})}},268:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var c=n(10),r=n(14),a=n.n(r),i=n(25),o=n(19),s=n(358),u=n(372),d=n(0),l=n(57),j=n(62),h=n(2),b=function(e){var t=e.value,n=e.onChange,r=e.refresh,b=e.inputLabel,O=Object(l.c)(),f=Object(d.useState)(null),v=Object(o.a)(f,2),p=v[0],x=v[1],m=Object(d.useState)(null),g=Object(o.a)(m,2),w=g[0],k=g[1],y=Object(d.useState)(""),C=Object(o.a)(y,2),N=C[0],S=C[1],I=function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("".concat("http://localhost:44084/api","/inventory/warehouse/list"));case 2:(t=e.sent).success&&x(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){var e;I(),k(null!==t&&void 0!==t?t:null),S(null!==(e=null===t||void 0===t?void 0:t.warehouse)&&void 0!==e?e:"")}),[r,t]),Object(h.jsx)(h.Fragment,{children:p?Object(h.jsx)(s.a,{value:w,onChange:function(e,t){k(t),n&&n(null!==t&&void 0!==t?t:void 0)},inputValue:N,onInputChange:function(e,t){return S(null!==t&&void 0!==t?t:"")},options:p,getOptionLabel:function(e){return e.warehouse},renderInput:function(e){return Object(h.jsx)(u.a,Object(c.a)(Object(c.a)({},e),{},{label:b,required:!0}))}}):Object(h.jsx)(j.a,{})})};b.defaultProps={inputLabel:"Select Warehouse"}},271:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var c=n(10),r=n(19),a=n(372),i=n(0),o=n(28),s=n(2),u=function(e){var t,n=Object(i.useState)(Object(o.e)(Number(null!==(t=e.value)&&void 0!==t?t:"0"))),u=Object(r.a)(n,2),d=u[0],l=u[1];return Object(s.jsx)(a.a,Object(c.a)(Object(c.a)({},e.tfProps),{},{value:d,onChange:function(t){if(!isNaN(Number(t.target.value))){var n=parseFloat(t.target.value);(e.zeroIsAllowed?n>=0:n>0)&&l(t.target.value)}},onBlur:function(t){var n=t.target.value.replace(",",""),c=parseFloat(n);l(Object(o.e)(c)),e.onFinalChange(c)}}))}},272:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var c=n(10),r=n(14),a=n.n(r),i=n(25),o=n(19),s=n(358),u=n(372),d=n(0),l=n(57),j=n(62),h=n(2),b=function(e){var t=e.value,n=e.onChange,r=e.refresh,b=e.inputLabel,O=Object(l.c)(),f=function(e){return e?"".concat(e.accountNo,": ").concat(e.profile.name," (").concat(e.profile.email,")"):""},v=Object(d.useState)(null),p=Object(o.a)(v,2),x=p[0],m=p[1],g=Object(d.useState)(null),w=Object(o.a)(g,2),k=w[0],y=w[1],C=Object(d.useState)(""),N=Object(o.a)(C,2),S=N[0],I=N[1],A=function(){var e=Object(i.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.get("".concat("http://localhost:44084/api","/gpcaccount/list"));case 2:(t=e.sent).success&&m(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){A(),y(null!==t&&void 0!==t?t:null),I(f(t))}),[r,t]),Object(h.jsx)(h.Fragment,{children:x?Object(h.jsx)(s.a,{value:k,onChange:function(e,t){y(t),n&&n(null!==t&&void 0!==t?t:void 0)},inputValue:S,onInputChange:function(e,t){return I(null!==t&&void 0!==t?t:"")},options:x,getOptionLabel:function(e){return f(e)},renderInput:function(e){return Object(h.jsx)(u.a,Object(c.a)(Object(c.a)({},e),{},{label:b,required:!0}))}}):Object(h.jsx)(j.a,{})})};b.defaultProps={inputLabel:"Select Account"}},273:function(e,t,n){"use strict";t.a=n.p+"static/media/confirmed.9ef1307f.png"},293:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var c=n(14),r=n.n(c),a=n(25),i=n(19),o=n(10),s=n(0),u=n(57),d=n(62),l=n(257),j=n(235),h=n(230),b=n(35),O=n(193),f=n(200),v=n(201),p=n(238),x=n(239),m=n(229),g=n(56),w=n(277),k=n.n(w),y=n(28),C=n(2),N=Object(f.a)((function(e){return Object(v.a)({appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}})})),S=Object(s.forwardRef)((function(e,t){return Object(C.jsx)(O.a,Object(o.a)({direction:"up",ref:t},e))})),I=function(e){var t=e.warehouseId,n=e.date,c=e.selectedIds,o=e.onChange,j=Object(u.c)(),h=Object(s.useState)(null),b=Object(i.a)(h,2),O=b[0],f=b[1],v=function(){var e=Object(a.a)(r.a.mark((function e(){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("".concat("http://localhost:44084/api","/inventory/report?warehouseId=").concat(t,"&date=").concat(Object(y.c)(n,"MM-DD-YYYY")));case 2:(c=e.sent).success&&f(c.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){v()}),[]);var p=[{field:"id",headerName:"Id",width:90},{field:"stockName",headerName:"Stock Name",width:300,valueGetter:function(e){var t;return null===(t=e.row.stock)||void 0===t?void 0:t.stockName}},{field:"description",headerName:"Description",width:300,valueGetter:function(e){var t;return null===(t=e.row.stock)||void 0===t?void 0:t.description}},{field:"unit",headerName:"Unit",width:150,valueGetter:function(e){var t,n;return null===(t=e.row.stock)||void 0===t||null===(n=t.unit)||void 0===n?void 0:n.unit}},{field:"category",headerName:"Category",width:150,valueGetter:function(e){var t,n;return null===(t=e.row.stock)||void 0===t||null===(n=t.category)||void 0===n?void 0:n.category}},{field:"qty",headerName:"Qty",width:100},{field:"price",headerName:"Price",width:150,headerAlign:"right",align:"right",valueFormatter:function(e){return Object(y.e)(Number(e.value))}}],x=Object(s.useState)([]),m=Object(i.a)(x,2),g=m[0],w=m[1];return Object(C.jsx)(C.Fragment,{children:O?Object(C.jsx)(l.a,{rows:O.filter((function(e){return!c.find((function(t){return t==e.id}))})),columns:p,hideFooterPagination:!0,autoHeight:!0,checkboxSelection:!0,selectionModel:g,onSelectionModelChange:function(e){w(e.selectionModel);var t=O.filter((function(t){return e.selectionModel.find((function(e){return e==t.id}))}));o(t)}}):Object(C.jsx)(d.a,{})})},A=function(e){var t=e.warehouseId,n=e.date,c=e.selectedIds,o=e.open,u=e.setOpen,d=e.onSelectionConfirmed,l=N(),O=Object(s.useContext)(b.c),f=Object(s.useState)([]),v=Object(i.a)(f,2),w=v[0],y=v[1],A=function(){return u(!1)},P=function(){var e=Object(a.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=w.length){e.next=4;break}return e.next=3,O.msgbox.show("No item selected","Select Stocks");case 3:return e.abrupt("return");case 4:d(w),u(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(h.a,{open:o,onClose:A,fullScreen:!0,TransitionComponent:S,children:[Object(C.jsx)(p.a,{className:l.appBar,children:Object(C.jsxs)(x.a,{children:[Object(C.jsx)(m.a,{edge:"start",color:"inherit",onClick:A,"aria-label":"close",children:Object(C.jsx)(k.a,{})}),Object(C.jsx)(g.a,{variant:"h6",className:l.title,children:"Select Stocks"}),Object(C.jsx)(j.a,{onClick:A,color:"inherit",children:"Cancel"}),Object(C.jsx)(j.a,{onClick:P,color:"inherit",children:"Apply"})]})}),Object(C.jsx)(I,{warehouseId:t,date:n,selectedIds:c,onChange:function(e){return y(e)}})]})})}},352:function(e,t,n){"use strict";n.r(t);var c=n(10),r=n(19),a=n(0),i=n(46),o=n(14),s=n.n(o),u=n(25),d=n(57),l=n(266),j=n(235),h=n(28),b=n(257),O=n(62),f=n(255),v=n(261),p=n.n(v),x=n(229),m=n(244),g=n(258),w=n.n(g),k=n(264),y=n.n(k),C=n(284),N=n.n(C),S=n(282),I=n.n(S),A=n(283),P=n.n(A),D=n(35),F=n(256),G=n(2),M=function(){var e=Object(u.a)(s.a.mark((function e(t,n,c,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.confirmbox.show("Are you sure you want to delete this record?");case 2:if(!e.sent){e.next=8;break}return e.next=6,c.post("".concat("http://localhost:44084/api","/inventory/order/delete?id=").concat(t));case 6:e.sent.success&&(r.snackbar.show("Record was successfully deleted"),a());case 8:case"end":return e.stop()}}),e)})));return function(t,n,c,r,a){return e.apply(this,arguments)}}(),q=Object(G.jsx)(x.a,{size:"small",disabled:!0,children:Object(G.jsx)(w.a,{style:{visibility:"hidden"}})}),V=function(e){var t=e.refresh,n=e.warehouseId,c=Object(a.useContext)(i.a),o=Object(d.a)(),v=Object(d.c)(),g=Object(a.useContext)(D.c),k=Object(a.useState)(null),C=Object(r.a)(k,2),S=C[0],A=C[1],V=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.get("".concat("http://localhost:44084/api","/inventory/order/list?warehouseId=").concat(n));case 2:(t=e.sent).success&&A(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(e,t){var n,r;(null===(n=c.Get("accountOrders-setOpenProps"))||void 0===n?void 0:n.dispatch.bind(n))({data:e}),(null===(r=c.Get("accountOrders-setPageMode"))||void 0===r?void 0:r.dispatch.bind(r))(t)};Object(a.useEffect)((function(){V()}),[t]);var E=[{field:"id",headerName:"Id",width:90},{field:"docDate",headerName:"Date",width:110,valueFormatter:function(e){return Object(h.b)(new Date(e.value))}},{field:"orNo",headerName:"OR No.",width:150},{field:"description",headerName:"Description",width:300},{field:"name",headerName:"Account Name",width:200,renderCell:function(e){var t,n;return Object(G.jsx)(m.a,{title:"Account #".concat(e.getValue(e.id,"account").accountNo),children:Object(G.jsx)("div",{children:null===(t=e.getValue(e.id,"account"))||void 0===t||null===(n=t.profile)||void 0===n?void 0:n.name})})},valueGetter:function(e){var t,n;return null===(t=e.getValue(e.id,"account"))||void 0===t||null===(n=t.profile)||void 0===n?void 0:n.name}},{field:"amount",headerName:"Amount (\u20b1)",width:150,headerAlign:"right",align:"right",valueFormatter:function(e){return Object(h.e)(Number(e.value))}},{field:"confirmed",headerName:"Status",width:150,headerAlign:"center",align:"center",renderCell:function(e){var t="Unconfirmed",n=e.getValue(e.id,"isConfirmed");if(n){var c=e.getValue(e.id,"confirmedBy");t="Confirmed by ".concat(c.name)}return Object(G.jsx)(G.Fragment,{children:n?Object(G.jsx)(l.a,{color:"green",children:Object(G.jsx)(m.a,{title:t,children:Object(G.jsx)(F.a,{badgeContent:e.getValue(e.id,"itemCount"),children:Object(G.jsx)(I.a,{})})})}):Object(G.jsx)(l.a,{color:"lightgray",children:Object(G.jsx)(m.a,{title:"Draft",children:Object(G.jsx)(P.a,{})})})})}},{field:"",filterable:!1,sortable:!1,disableColumnMenu:!0,flex:.3,cellClassName:"row-commands",renderCell:function(e){var t=e.row.isConfirmed;return Object(G.jsx)(G.Fragment,{children:t?Object(G.jsxs)(G.Fragment,{children:[q,Object(G.jsx)(m.a,{title:"View",children:Object(G.jsx)(x.a,{onClick:function(){return W(e.row,"view")},size:"small",children:Object(G.jsx)(w.a,{})})}),q,q,q]}):Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(m.a,{title:"Update Items",children:Object(G.jsx)(x.a,{onClick:function(){return function(e,t){var n,r;(null===(n=c.Get("accountOrders-setOpenProps"))||void 0===n?void 0:n.dispatch.bind(n))({refresh:new Date,parent:e}),(null===(r=c.Get("accountOrders-setPageMode"))||void 0===r?void 0:r.dispatch.bind(r))(t)}(e.row,"view-items")},size:"small",children:Object(G.jsx)(F.d,{badgeContent:e.getValue(e.id,"itemCount"),children:Object(G.jsx)(N.a,{})})})}),Object(G.jsx)(m.a,{title:"View",children:Object(G.jsx)(x.a,{onClick:function(){return W(e.row,"view")},size:"small",children:Object(G.jsx)(w.a,{})})}),Object(G.jsx)(m.a,{title:"Edit",children:Object(G.jsx)(x.a,{onClick:function(){return W(e.row,"edit")},size:"small",children:Object(G.jsx)(p.a,{})})}),Object(G.jsx)(m.a,{title:"Delete",children:Object(G.jsx)(x.a,{onClick:function(){return M(e.id,o,v,g,V)},size:"small",children:Object(G.jsx)(y.a,{})})})]})})}}];return Object(G.jsx)(G.Fragment,{children:S?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("h4",{children:"Account Orders"}),Object(G.jsxs)("small",{children:["As of ",Object(h.d)(t)]}),Object(G.jsx)(b.a,{rows:S,columns:E,hideFooterPagination:!0,autoHeight:!0}),Object(G.jsx)(f.a,{children:Object(G.jsx)(j.a,{variant:"contained",color:"primary",onClick:function(){var e;(null===(e=c.Get("accountOrders-setPageMode"))||void 0===e?void 0:e.dispatch.bind(e))("create")},children:"Create"})})]}):Object(G.jsx)(O.a,{})})},W=n(259),E=n(200),Y=n(201),R=n(372),U=n(337),z=n(339),B=n(272),J=Object(E.a)((function(e){return Object(Y.a)({root:{"& > *":{margin:e.spacing(1),width:"25ch"}},accountNo:{display:"inline-block",width:400}})})),L=function(e){var t=e.data,n=e.onSubmit,o=Object(a.useContext)(D.c),s=J(),u=Object(a.useRef)(null),d=Object(a.useState)(t.docDate),j=Object(r.a)(d,2),b=j[0],O=j[1],f=Object(a.useState)(t.orNo),v=Object(r.a)(f,2),p=v[0],x=v[1],m=Object(a.useState)(t.description),g=Object(r.a)(m,2),w=g[0],k=g[1],y=Object(a.useState)(t.account),C=Object(r.a)(y,2),N=C[0],S=C[1],I=Object(a.useState)(t.amount),A=Object(r.a)(I,2),P=A[0],F=(A[1],Object(a.useState)(t.remarks)),M=Object(r.a)(F,2),q=M[0],V=M[1],W=Object(a.useState)(null),E=Object(r.a)(W,2),Y=E[0],L=E[1];Object(a.useContext)(i.a).Add({key:"create-accountOrder-form-setExecSubmit",dispatch:L});var Q=function(e){var r;if(null===e||void 0===e||e.preventDefault(),null===(r=u.current)||void 0===r?void 0:r.reportValidity()){var a=[];if(a.length>0)o.snackbar.show(a,"error");else{var i=function(){var e;return Object(c.a)(Object(c.a)({},t),{},{docDate:b,orNo:p,description:w,accountNo:null!==(e=null===N||void 0===N?void 0:N.accountNo)&&void 0!==e?e:"",account:N,amount:P,remarks:q})}();n(i)}}};return Object(a.useEffect)((function(){Y&&Q()}),[Y]),Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("form",{ref:u,className:s.root,autoComplete:"off",onSubmit:Q,children:[Object(G.jsxs)(U.a,{children:[Object(G.jsx)(z.a,{children:"Record Id"}),Object(G.jsx)("b",{children:0==t.id?"[New Record]":t.id})]}),Object(G.jsx)(R.a,{label:"Date",type:"date",required:!0,value:Object(h.c)(b,"YYYY-MM-DD"),onChange:function(e){return O(new Date(e.target.value))}}),Object(G.jsx)(R.a,{label:"OR No.",required:!0,value:p,onChange:function(e){return x(e.target.value)}}),Object(G.jsx)(R.a,{label:"Description",required:!0,value:w,onChange:function(e){return k(e.target.value)}}),Object(G.jsx)(l.a,{className:s.accountNo,children:Object(G.jsx)(B.a,{value:N,onChange:function(e){return S(e)}})}),Object(G.jsx)(R.a,{label:"Remarks",multiline:!0,value:q,onChange:function(e){return V(e.target.value)}})]})})},Q=function(e){var t=e.parent,n=Object(a.useContext)(i.a),c=Object(d.c)(),r=Object(a.useContext)(D.c),o=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.processing.show(),e.next=3,c.post("".concat("http://localhost:44084/api","/inventory/order/save"),t);case 3:(n=e.sent).success&&(r.snackbar.show("Record was successfully saved"),l(n.data)),r.processing.hide();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e){var t,c;(null===(t=n.Get("accountOrders-setOpenProps"))||void 0===t?void 0:t.dispatch.bind(t))({data:e}),(null===(c=n.Get("accountOrders-setPageMode"))||void 0===c?void 0:c.dispatch.bind(c))("view")},h=new W.a;return h.warehouseId=t.id,Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("h4",{children:"Create Account Order"}),Object(G.jsx)(L,{onSubmit:o,data:h}),Object(G.jsxs)(f.a,{children:[Object(G.jsx)(j.a,{variant:"contained",color:"default",onClick:function(){var e;(null===(e=n.Get("accountOrders-setPageMode"))||void 0===e?void 0:e.dispatch.bind(e))("list")},children:"Cancel"}),Object(G.jsx)(j.a,{variant:"contained",color:"primary",onClick:function(){var e;(null===(e=n.Get("create-accountOrder-form-setExecSubmit"))||void 0===e?void 0:e.dispatch.bind(e))(new Date)},children:"Save"})]})]})},H=function(e){var t=e.data,n=Object(a.useContext)(i.a),c=Object(d.c)(),r=Object(a.useContext)(D.c);if(!t)return Object(G.jsx)("div",{children:"No data provided"});var o=function(){var e=Object(u.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.processing.show(),e.next=3,c.post("".concat("http://localhost:44084/api","/inventory/order/save"),t);case 3:(n=e.sent).success&&(r.snackbar.show("Record was successfully saved"),l(n.data)),r.processing.hide();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e){var t,c;(null===(t=n.Get("accountOrders-setOpenProps"))||void 0===t?void 0:t.dispatch.bind(t))({data:e}),(null===(c=n.Get("accountOrders-setPageMode"))||void 0===c?void 0:c.dispatch.bind(c))("view")};return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("h4",{children:"Update Account Order"}),Object(G.jsx)(L,{onSubmit:o,data:t}),Object(G.jsxs)(f.a,{children:[Object(G.jsx)(j.a,{variant:"contained",color:"default",onClick:function(){return l(t)},children:"Cancel"}),Object(G.jsx)(j.a,{variant:"contained",color:"primary",onClick:function(){var e;(null===(e=n.Get("create-accountOrder-form-setExecSubmit"))||void 0===e?void 0:e.dispatch.bind(e))(new Date)},children:"Save"})]})]})},T=n(267),K=n(241),X=function(e){var t=e.refresh,n=e.parentId,c=(Object(a.useContext)(i.a),Object(d.c)()),o=Object(a.useState)(null),l=Object(r.a)(o,2),j=l[0],f=l[1],v=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.get("".concat("http://localhost:44084/api","/inventory/order-items?parentId=").concat(n));case 2:(t=e.sent).success&&f(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){v()}),[t]);var p=[{field:"stockId",headerName:"Stock Id",width:150},{field:"stockName",headerName:"Stock Name",width:300,renderCell:function(e){var t,n;return Object(G.jsx)(m.a,{title:null===(t=e.row.stock)||void 0===t?void 0:t.description,children:Object(G.jsx)("div",{children:null===(n=e.row.stock)||void 0===n?void 0:n.stockName})})}},{field:"unit",headerName:"Unit",width:150,valueGetter:function(e){var t,n;return null===(t=e.getValue(e.id,"stock"))||void 0===t||null===(n=t.unit)||void 0===n?void 0:n.unit}},{field:"category",headerName:"Category",width:150,valueGetter:function(e){var t,n;return null===(t=e.getValue(e.id,"stock"))||void 0===t||null===(n=t.category)||void 0===n?void 0:n.category}},{field:"qty",headerName:"Qty",width:100,headerAlign:"center",align:"center",type:"number"},{field:"price",headerName:"Price (\u20b1)",width:150,headerAlign:"right",align:"right",type:"number",valueFormatter:function(e){return Object(h.e)(Number(e.value))}},{field:"discount",headerName:"Discount (\u20b1)",width:160,headerAlign:"right",align:"right",type:"number",valueFormatter:function(e){return Object(h.e)(Number(e.value))}},{field:"totalPointValue",headerName:"Point Value",width:200,headerAlign:"right",align:"right",type:"number",valueFormatter:function(e){return Object(h.e)(Number(e.value))}},{field:"amount",headerName:"Amount (\u20b1)",width:150,headerAlign:"right",align:"right",type:"number",valueFormatter:function(e){return Object(h.e)(Number(e.value))}}],x=0,g=0;return null===j||void 0===j||j.forEach((function(e){g+=e.totalPointValue,x+=e.amount})),Object(G.jsx)(G.Fragment,{children:j?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("h4",{children:"Account Order Items"}),Object(G.jsxs)("small",{children:["As of ",Object(h.d)(t)]}),Object(G.jsxs)("div",{style:{height:400,width:"100%"},children:[Object(G.jsxs)(F.b,{align:"right",children:[Object(G.jsx)("li",{children:Object(G.jsx)("h3",{children:"Total Point Value: ".concat(Object(h.a)(g))})}),Object(G.jsx)("li",{children:Object(G.jsx)("h3",{children:"\xa0|\xa0"})}),Object(G.jsx)("li",{children:Object(G.jsx)("h3",{children:"Total Amount: ".concat(Object(h.a)(x))})})]}),Object(G.jsx)(b.a,{rows:j,columns:p,hideFooterPagination:!0,autoHeight:!0})]})]}):Object(G.jsx)(O.a,{})})},Z=n(273),$=Object(E.a)((function(e){return Object(Y.a)({confirmed:{width:300,position:"absolute",top:50,right:50,opaity:.1}})})),_=function(e){var t,n,c,o,b,O=e.data,v=Object(d.a)(),p=Object(d.c)(),x=Object(a.useContext)(D.c),m=$(),g=Object(a.useContext)(i.a),w=Object(a.useState)(null),k=Object(r.a)(w,2),y=k[0],C=k[1],N=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("".concat("http://localhost:44084/api","/inventory/report?warehouseId=").concat(null===O||void 0===O?void 0:O.warehouseId,"&date=").concat(Object(h.c)(null===O||void 0===O?void 0:O.docDate,"MM-DD-YYYY")));case 2:if(!(t=e.sent).success){e.next=7;break}return e.abrupt("return",t.data);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.get("".concat("http://localhost:44084/api","/inventory/order-items?parentId=").concat(null===O||void 0===O?void 0:O.id));case 2:(t=e.sent).success&&C(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,N();case 3:return null==(n=e.sent)?t.push("Unable to acquire inventory list"):null===y||void 0===y||y.forEach((function(e){if(null==e.stock)t.push("Stock Id# ".concat(e.stockId," does not exist anymore. It was probably deleted. Please remove the item."));else if(e.qty<=0){var c;t.push("Stock Id# ".concat(e.stockId,"/").concat(null===(c=e.stock)||void 0===c?void 0:c.stockName," Qty is invalid. Please specify a value greater than 0"))}else{var r,a,i=n.find((function(t){return t.id==e.stockId})),o=null!==(r=null===i||void 0===i?void 0:i.qty)&&void 0!==r?r:0;if(e.qty>o)t.push("Stock Id# ".concat(e.stockId,"/").concat(null===(a=e.stock)||void 0===a?void 0:a.stockName," Qty is greater than available supply (").concat(o,")"))}})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(a.useEffect)((function(){S()}),[]),!O)return Object(G.jsx)("div",{children:"No data provided"});var A=function(){var e;(null===(e=g.Get("accountOrders-setPageMode"))||void 0===e?void 0:e.dispatch.bind(e))("list")},P=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:if(!((t=e.sent).length>0)){e.next=6;break}return x.msgbox.show(t,"Save items"),e.abrupt("return");case 6:return e.next=8,x.confirmbox.show("Are you sure you want to confirm this document?");case 8:if(e.sent){e.next=11;break}return e.abrupt("return");case 11:return x.processing.show(),e.next=14,p.post("".concat("http://localhost:44084/api","/inventory/order/confirm?id=").concat(O.id,"&profileId=").concat(v.Profile.id));case 14:e.sent.success&&(x.snackbar.show("Document was successfully confirmed"),A()),x.processing.hide();case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("h4",{children:"View Account Order"}),Object(G.jsxs)(F.f,{children:[O.isConfirmed&&Object(G.jsx)("img",{src:Z.a,className:m.confirmed}),Object(G.jsxs)(T.a,{container:!0,spacing:3,children:[Object(G.jsxs)(T.a,{item:!0,sm:6,children:[Object(G.jsxs)(T.a,{container:!0,spacing:3,children:[Object(G.jsx)(T.a,{item:!0,sm:2,children:Object(G.jsx)(l.a,{textAlign:"right",fontWeight:"bold",children:"Id:"})}),Object(G.jsx)(T.a,{item:!0,sm:10,children:Object(G.jsx)(F.e,{children:O.id})})]}),Object(G.jsxs)(T.a,{container:!0,spacing:3,children:[Object(G.jsx)(T.a,{item:!0,sm:2,children:Object(G.jsx)(l.a,{textAlign:"right",fontWeight:"bold",children:"Date:"})}),Object(G.jsx)(T.a,{item:!0,sm:10,children:Object(G.jsx)(F.e,{children:Object(h.b)(O.docDate)})})]}),Object(G.jsxs)(T.a,{container:!0,spacing:3,children:[Object(G.jsx)(T.a,{item:!0,sm:2,children:Object(G.jsx)(l.a,{textAlign:"right",fontWeight:"bold",children:"OR No.:"})}),Object(G.jsx)(T.a,{item:!0,sm:10,children:Object(G.jsx)(F.e,{children:O.orNo})})]}),Object(G.jsxs)(T.a,{container:!0,spacing:3,children:[Object(G.jsx)(T.a,{item:!0,sm:2,children:Object(G.jsx)(l.a,{textAlign:"right",fontWeight:"bold",children:"Description:"})}),Object(G.jsx)(T.a,{item:!0,sm:10,children:Object(G.jsx)(F.e,{children:O.description})})]}),Object(G.jsxs)(T.a,{container:!0,spacing:3,children:[Object(G.jsx)(T.a,{item:!0,sm:2,children:Object(G.jsx)(l.a,{textAlign:"right",fontWeight:"bold",children:"Amount:"})}),Object(G.jsx)(T.a,{item:!0,sm:10,children:Object(G.jsx)(F.e,{children:Object(h.a)(O.amount)})})]}),Object(G.jsxs)(T.a,{container:!0,spacing:3,children:[Object(G.jsx)(T.a,{item:!0,sm:2,children:Object(G.jsx)(l.a,{textAlign:"right",fontWeight:"bold",children:"Remarks:"})}),Object(G.jsx)(T.a,{item:!0,sm:10,children:Object(G.jsx)(F.e,{children:O.remarks})})]}),O.isConfirmed&&Object(G.jsxs)(T.a,{container:!0,spacing:3,children:[Object(G.jsx)(T.a,{item:!0,sm:2,children:Object(G.jsx)(l.a,{textAlign:"right",fontWeight:"bold",children:"Confirmed by:"})}),Object(G.jsxs)(T.a,{item:!0,sm:10,children:[Object(G.jsx)(F.e,{children:null===(t=O.confirmedBy)||void 0===t?void 0:t.name}),Object(G.jsx)("div",{children:Object(G.jsx)("small",{children:Object(h.d)(O.dateConfirmed)})})]})]})]}),Object(G.jsxs)(T.a,{item:!0,sm:6,children:[Object(G.jsxs)(T.a,{container:!0,spacing:3,children:[Object(G.jsx)(T.a,{item:!0,sm:2,children:Object(G.jsx)(l.a,{textAlign:"right",fontWeight:"bold",children:"Account Name:"})}),Object(G.jsx)(T.a,{item:!0,sm:10,children:Object(G.jsx)(F.e,{children:null===(n=O.account)||void 0===n||null===(c=n.profile)||void 0===c?void 0:c.name})})]}),Object(G.jsxs)(T.a,{container:!0,spacing:3,children:[Object(G.jsx)(T.a,{item:!0,sm:2,children:Object(G.jsx)(l.a,{textAlign:"right",fontWeight:"bold",children:"Account No.:"})}),Object(G.jsx)(T.a,{item:!0,sm:10,children:Object(G.jsx)(F.e,{children:O.accountNo})})]}),Object(G.jsxs)(T.a,{container:!0,spacing:3,children:[Object(G.jsx)(T.a,{item:!0,sm:2,children:Object(G.jsx)(l.a,{textAlign:"right",fontWeight:"bold",children:"Rank:"})}),Object(G.jsx)(T.a,{item:!0,sm:10,children:Object(G.jsx)(F.e,{children:null===(o=O.account)||void 0===o||null===(b=o.rank)||void 0===b?void 0:b.description})})]})]})]}),Object(G.jsx)("br",{}),Object(G.jsx)(K.a,{}),O&&Object(G.jsx)(X,{refresh:new Date,parentId:O.id})]}),Object(G.jsxs)(f.a,{children:[Object(G.jsx)(j.a,{variant:"contained",color:"default",onClick:A,children:"Back to list"}),O.itemCount>0&&!O.isConfirmed&&Object(G.jsx)(j.a,{variant:"contained",color:"primary",onClick:P,children:"Confirm"}),!O.isConfirmed&&Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(j.a,{variant:"contained",color:"primary",onClick:function(){var e,t;(null===(e=g.Get("accountOrders-setOpenProps"))||void 0===e?void 0:e.dispatch.bind(e))({refresh:new Date,parent:O}),(null===(t=g.Get("accountOrders-setPageMode"))||void 0===t?void 0:t.dispatch.bind(t))("view-items")},children:"Update Items"}),Object(G.jsx)(j.a,{variant:"contained",color:"primary",onClick:function(){var e,t;(null===(e=g.Get("accountOrders-setOpenProps"))||void 0===e?void 0:e.dispatch.bind(e))({data:O}),(null===(t=g.Get("accountOrders-setPageMode"))||void 0===t?void 0:t.dispatch.bind(t))("edit")},children:"Edit"}),Object(G.jsx)(j.a,{variant:"contained",color:"primary",onClick:function(){var e,t,n=new W.a;n.warehouseId=O.warehouseId,(null===(e=g.Get("accountOrders-setOpenProps"))||void 0===e?void 0:e.dispatch.bind(e))({data:n}),(null===(t=g.Get("accountOrders-setPageMode"))||void 0===t?void 0:t.dispatch.bind(t))("create")},children:"Create"}),Object(G.jsx)(j.a,{variant:"contained",color:"secondary",onClick:function(){return M(O.id,v,p,x,A)},children:"Delete"})]})]})]})},ee=n(260),te=n(268),ne=n(274),ce=n(271),re=n(293),ae=function(e){var t,n,c,o,v,p,x=e.refresh,g=e.parent,w=Object(a.useContext)(i.a),k=Object(d.c)(),y=Object(a.useContext)(D.c),C=Object(a.useState)(null),N=Object(r.a)(C,2),S=N[0],I=N[1],A=Object(a.useState)(null),P=Object(r.a)(A,2),F=P[0],M=P[1],q=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("".concat("http://localhost:44084/api","/inventory/order-items?parentId=").concat(null===(t=g)||void 0===t?void 0:t.id));case 2:(n=e.sent).success&&(I(n.data),M(JSON.parse(JSON.stringify(n.data))));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("".concat("http://localhost:44084/api","/inventory/report?warehouseId=").concat(g.warehouseId,"&date=").concat(Object(h.c)(g.docDate,"MM-DD-YYYY")));case 2:if(!(t=e.sent).success){e.next=7;break}return e.abrupt("return",t.data);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,V();case 3:return null==(n=e.sent)?t.push("Unable to acquire inventory list"):null===S||void 0===S||S.forEach((function(e){if(null==e.stock)t.push("Stock Id# ".concat(e.stockId," does not exist anymore. It was probably deleted. Please remove the item."));else if(e.qty<=0){var c;t.push("Stock Id# ".concat(e.stockId,"/").concat(null===(c=e.stock)||void 0===c?void 0:c.stockName," Qty is invalid. Please specify a value greater than 0"))}else{var r,a,i=n.find((function(t){return t.id==e.stockId})),o=null!==(r=null===i||void 0===i?void 0:i.qty)&&void 0!==r?r:0;if(e.qty>o)t.push("Stock Id# ".concat(e.stockId,"/").concat(null===(a=e.stock)||void 0===a?void 0:a.stockName," Qty is greater than available supply (").concat(o,")"))}})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(s.a.mark((function e(){var t,n,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:if(!((n=e.sent).length>0)){e.next=6;break}return y.msgbox.show(n,"Save items"),e.abrupt("return");case 6:return e.next=8,k.post("".concat("http://localhost:44084/api","/inventory/order-items/save?parentId=").concat(null===(t=g)||void 0===t?void 0:t.id),S);case 8:(c=e.sent).success&&(g=c.data,y.snackbar.show("Items were successfully saved"),Y());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e,t;(null===(e=w.Get("accountOrders-setOpenProps"))||void 0===e?void 0:e.dispatch.bind(e))({data:g}),(null===(t=w.Get("accountOrders-setPageMode"))||void 0===t?void 0:t.dispatch.bind(t))("view")},R=Object(a.useState)(!1),U=Object(r.a)(R,2),z=U[0],B=U[1],J=Object(a.useState)([]),L=Object(r.a)(J,2),Q=L[0],H=L[1];Object(a.useEffect)((function(){g&&q()}),[x]);var T=[{field:"id",headerName:"Id",width:90},{field:"stockId",headerName:"Stock Id",width:150},{field:"stockName",headerName:"Stock Name",width:300,renderCell:function(e){var t,n;return Object(G.jsx)(m.a,{title:null===(t=e.row.stock)||void 0===t?void 0:t.description,children:Object(G.jsx)("div",{children:null===(n=e.row.stock)||void 0===n?void 0:n.stockName})})}},{field:"unit",headerName:"Unit",width:150,valueGetter:function(e){var t,n;return null===(t=e.row.stock)||void 0===t||null===(n=t.unit)||void 0===n?void 0:n.unit}},{field:"category",headerName:"Category",width:150,valueGetter:function(e){var t,n;return null===(t=e.row.stock)||void 0===t||null===(n=t.category)||void 0===n?void 0:n.category}},{field:"qty",headerName:"Qty",width:100,headerAlign:"center",align:"center",type:"number",renderCell:function(e){return Object(G.jsx)(ie,{data:S,setData:I,params:e,fieldName:"qty"})}},{field:"price",headerName:"Price (\u20b1)",width:150,headerAlign:"right",align:"right",type:"number",valueFormatter:function(e){return Object(h.e)(Number(e.value))}}];return g?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsxs)(l.a,{textAlign:"center",children:[Object(G.jsx)("b",{children:null===(t=g)||void 0===t?void 0:t.description}),Object(G.jsx)("br",{}),Object(G.jsx)("p",{children:"For ".concat(null===(n=g)||void 0===n||null===(c=n.account)||void 0===c||null===(o=c.profile)||void 0===o?void 0:o.name)}),Object(G.jsx)("small",{children:"Account # ".concat(null===(v=g)||void 0===v?void 0:v.accountNo," | Date: ").concat(Object(h.b)(null===(p=g)||void 0===p?void 0:p.docDate))})]}),S?Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("h4",{children:"Account Order Items"}),Object(G.jsxs)("small",{children:["As of ",Object(h.d)(x)]}),Object(G.jsx)("div",{style:{height:400,width:"100%"},children:Object(G.jsx)(b.a,{rows:S,columns:T,hideFooterPagination:!0,autoHeight:!0,checkboxSelection:!0,disableSelectionOnClick:!0,selectionModel:Q,onSelectionModelChange:function(e){return H(e.selectionModel)}})}),Object(G.jsx)(re.a,{warehouseId:g.warehouseId,date:g.docDate,selectedIds:S.map((function(e){return e.stockId})),open:z,setOpen:B,onSelectionConfirmed:function(e){var t=0,n=null===S||void 0===S?void 0:S.map((function(e){return e.id})).sort().reverse();n&&n.length>0&&(t=n[0]);var c=e.map((function(e,n){var c;return{id:t+n+1,parentId:null===(c=g)||void 0===c?void 0:c.id,stockId:e.id,stock:e.stock,qty:1,price:e.price,pointValue:e.pointValue,amount:e.price,totalPointValue:1*e.pointValue,discountRate:0,discount:0}})),r=[].concat(Object(ne.a)(null!==S&&void 0!==S?S:[]),Object(ne.a)(c));I(r)}}),Object(G.jsxs)(f.a,{children:[Object(G.jsx)(j.a,{variant:"contained",color:"default",onClick:Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(JSON.stringify(S)==JSON.stringify(F)){e.next=7;break}return e.next=3,y.confirmbox.show("Some changes were not yet saved. Would you like to save these changes?");case 3:if(!e.sent){e.next=7;break}return E(),e.abrupt("return");case 7:Y();case 8:case"end":return e.stop()}}),e)}))),children:"Cancel"}),Object(G.jsx)(j.a,{variant:"contained",color:"primary",onClick:function(){return B(!0)},children:"Add Items"}),Object(G.jsx)(j.a,{variant:"contained",color:"primary",onClick:E,children:"Save"}),Q.length>0&&Object(G.jsx)(j.a,{variant:"contained",color:"secondary",onClick:function(){var e,t=null!==(e=null===S||void 0===S?void 0:S.filter((function(e){return null==Q.find((function(t){return t==e.id}))})))&&void 0!==e?e:null;I(t),H([])},children:"Remove Selected Items"})]})]}):Object(G.jsx)(O.a,{})]}):Object(G.jsx)(G.Fragment,{children:"[No parent data]"})},ie=function(e){var t,n,c,r=e.data,a=e.setData,i=e.params,o=e.fieldName;return null==r?Object(G.jsx)(G.Fragment,{children:"[No data]"}):"qty"===o?Object(G.jsx)(R.a,{value:null===(t=r.find((function(e){return e.id==i.id})))||void 0===t?void 0:t.qty,required:!0,type:"number",variant:"outlined",inputProps:{style:{textAlign:"center"}},onChange:function(e){var t=Object(ne.a)(r),n=t.find((function(e){return e.id==i.id}));if(n){if(!isNaN(Number(e.target.value))){var c=parseInt(e.target.value);c>0&&(n.qty=c)}a&&a(Object(ne.a)(t))}}}):Object(G.jsx)(ce.a,{value:null!==(n=null===(c=r.find((function(e){return e.id==i.id})))||void 0===c?void 0:c.price)&&void 0!==n?n:null,zeroIsAllowed:!0,onFinalChange:function(e){var t=Object(ne.a)(r),n=t.find((function(e){return e.id==i.id}));n&&(n.price=e,a(Object(ne.a)(t)))},tfProps:{required:!0,variant:"outlined",inputProps:{style:{textAlign:"right"}}}})};t.default=function(){var e=Object(a.useState)("list"),t=Object(r.a)(e,2),n=t[0],o=t[1],s=Object(a.useState)({}),u=Object(r.a)(s,2),d=u[0],l=u[1],j=Object(a.useContext)(i.a);j.Add({key:"accountOrders-setPageMode",dispatch:o}),j.Add({key:"accountOrders-setOpenProps",dispatch:l});var h=sessionStorage.getItem("warehouse-selection"),b=Object(a.useState)(h?JSON.parse(h):null),O=Object(r.a)(b,2),f=O[0],v=O[1];return Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)(ee.default,{}),Object(G.jsx)(te.a,{value:null!==f&&void 0!==f?f:void 0,onChange:function(e){e?(v(e),sessionStorage.setItem("warehouse-selection",JSON.stringify(e))):(v(null),sessionStorage.removeItem("warehouse-selection")),o("list")}}),Object(G.jsx)("br",{}),f?Object(G.jsxs)(G.Fragment,{children:["list"==n&&Object(G.jsx)(V,{refresh:new Date,warehouseId:f.id}),"create"==n&&Object(G.jsx)(Q,{parent:f}),"edit"==n&&Object(G.jsx)(H,Object(c.a)({},d)),"view"==n&&Object(G.jsx)(_,Object(c.a)({},d)),"view-items"==n&&Object(G.jsx)(ae,Object(c.a)({},d))]}):Object(G.jsx)(G.Fragment,{children:"[Please select a warehouse to work on]"})]})}}}]);
//# sourceMappingURL=11.c28d6042.chunk.js.map